<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../.././style.css"></link><link rel="icon" href="../.././favicon.svg"></link><link rel="mask-icon" href="../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../.././/declarations/declaration-data.bmp" as="image"></link><title>Mathlib.Tactic.Polyrith</title><script defer="true" src="../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../.././";</script><script>const MODULE_NAME="Mathlib.Tactic.Polyrith";</script><script type="module" src="../.././jump-src.js"></script><script type="module" src="../.././search.js"></script><script type="module" src="../.././expand-nav.js"></script><script type="module" src="../.././how-about.js"></script><script type="module" src="../.././instances.js"></script><script type="module" src="../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../.././Init.html">Init</a></li><li><a href="../.././Mathlib/Tactic/LinearCombination.html">Mathlib.Tactic.LinearCombination</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Mathlib.Tactic.Polyrith" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.Poly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instBEqPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instBEqPoly</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.Poly.format"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">format</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instToFormatPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instToFormatPoly</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instToStringPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instToStringPoly</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instReprPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instReprPoly</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instInhabitedPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instInhabitedPoly</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instQuoteIntMkStr1_mathlib"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instQuoteIntMkStr1_mathlib</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instQuoteRatMkStr1_mathlib"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instQuoteRatMkStr1_mathlib</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.Poly.toSyntax"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">toSyntax</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.parse"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">parse</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.Source"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Source</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.parseContext"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">parseContext</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.parseContext.processHyp"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">parseContext</span>.<span class="name">processHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instFromJsonRat_mathlib"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonRat_mathlib</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.Poly.unNeg?"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">unNeg?</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.Poly.add'"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">add'</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.Poly.mul'"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">mul'</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.Poly.unDiv?"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">unDiv?</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.Poly.pow'"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">pow'</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.Poly.sumM"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">sumM</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instFromJsonPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonPoly</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.SageCoeffAndPower"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">SageCoeffAndPower</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instFromJsonSageCoeffAndPower"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonSageCoeffAndPower</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instReprSageCoeffAndPower"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instReprSageCoeffAndPower</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.SageSuccess"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">SageSuccess</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instFromJsonSageSuccess"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonSageSuccess</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instReprSageSuccess"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instReprSageSuccess</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.SageError"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">SageError</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instFromJsonSageError"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonSageError</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.SageResult"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">SageResult</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.sageHelperFunctions"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">sageHelperFunctions</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.sageTypeStr"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">sageTypeStr</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.sageCreateQuery"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">sageCreateQuery</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.instFromJsonSageResult"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonSageResult</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.polyrith.sageUserAgent"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">polyrith</span>.<span class="name">sageUserAgent</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.runSage"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">runSage</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.polyrith"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">polyrith</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.polyrith.byRing"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">polyrith</span>.<span class="name">byRing</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Polyrith.«tacticPolyrithOnly[_]»"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">«tacticPolyrithOnly[_]»</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="polyrith-Tactic">polyrith Tactic <a class="hover-link" href="#polyrith-Tactic">#</a></h1><p>In this file, the <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a></code> tactic is created.  This tactic, which
works over <code><a href="../.././Mathlib/Algebra/Field/Defs.html#Field">Field</a></code>s, attempts to prove a multivariate polynomial target over said
field by using multivariable polynomial hypotheses/proof terms over the same field.
Used as is, the tactic makes use of those hypotheses in the local context that are
over the same field as the target. However, the user can also specify which hypotheses
from the local context to use, along with proof terms that might not already be in the
local context. Note: since this tactic uses SageMath via an API call,
it can only be used with a working internet connection.</p><h2 class="markdown-heading" id="Implementation-Notes">Implementation Notes <a class="hover-link" href="#Implementation-Notes">#</a></h2><p>The tactic <code>linear_combination</code> is often used to prove such goals by allowing the user to
specify a coefficient for each hypothesis. If the target polynomial can be written as a
linear combination of the hypotheses with the chosen coefficients, then the <code>linear_combination</code>
tactic succeeds. In other words, <code>linear_combination</code> is a certificate checker, and it is left
to the user to find a collection of good coefficients. The <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a></code> tactic automates this
process using the theory of Groebner bases.</p><p>Polyrith does this by first parsing the relevant hypotheses into a form that SageMath can
understand. It then calls the SageMath API to compute the coefficients. These coefficients are
then sent back to Lean, which parses them into pexprs. The information is then given to the
<code>linear_combination</code> tactic, which completes the process by checking the certificate.</p><p>In fact, <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a></code> uses Sage to test for membership in the <em>radical</em> of the ideal.
This means it searches for a linear combination of hypotheses that add up to a <em>power</em> of the goal.
When this power is not 1, it uses the <code>(exp := n)</code> feature of <code>linear_combination</code> to report the
certificate.</p><h2 class="markdown-heading" id="TODO">TODO <a class="hover-link" href="#TODO">#</a></h2><ul>
<li>Give Sage more information about the specific ring being used for the coefficients. For now,
we always use ℚ (or <code>QQ</code> in Sage).</li>
<li>Handle <code>•</code> terms.</li>
<li>Support local Sage installations.</li>
</ul><h2 class="markdown-heading" id="References">References <a class="hover-link" href="#References">#</a></h2><ul>
<li>See the book [<em>Ideals, Varieties, and Algorithms</em>][coxlittleOshea1997] by David Cox, John Little,
and Donal O'Shea for the background theory on Groebner bases</li>
<li>This code was heavily inspired by the code for the tactic <code>linarith</code>, which was written by
Robert Y. Lewis, who advised me on this project as part of a Computer Science independent study
at Brown University.</li>
</ul></div><div class="mod_doc"><h1 class="markdown-heading" id="Poly-Datatype">Poly Datatype <a class="hover-link" href="#Poly-Datatype">#</a></h1></div><div class="decl" id="Mathlib.Tactic.Polyrith.Poly"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L64-L78">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A datatype representing the semantics of multivariable polynomials.
Each <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></code> can be converted into a string.</p><ul class="constructors"><li class="constructor" id="Mathlib.Tactic.Polyrith.Poly.const">const : <span class="fn"><a href="../.././Batteries/Data/Rat/Basic.html#Rat">ℚ</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></li><li class="constructor" id="Mathlib.Tactic.Polyrith.Poly.var">var : <span class="fn"><a href="../.././Init/Prelude.html#Nat">ℕ</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></li><li class="constructor" id="Mathlib.Tactic.Polyrith.Poly.hyp">hyp : <span class="fn"><a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></li><li class="constructor" id="Mathlib.Tactic.Polyrith.Poly.add">add : <span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></li><li class="constructor" id="Mathlib.Tactic.Polyrith.Poly.sub">sub : <span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></li><li class="constructor" id="Mathlib.Tactic.Polyrith.Poly.mul">mul : <span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></li><li class="constructor" id="Mathlib.Tactic.Polyrith.Poly.div">div : <span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></li><li class="constructor" id="Mathlib.Tactic.Polyrith.Poly.pow">pow : <span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></li><li class="constructor" id="Mathlib.Tactic.Polyrith.Poly.neg">neg : <span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></li></ul><details id="instances-for-list-Mathlib.Tactic.Polyrith.Poly" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instBEqPoly"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L78-L78">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instBEqPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instBEqPoly</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instBEqPoly">Mathlib.Tactic.Polyrith.instBEqPoly</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#BEq.mk">{</a> <span class="fn">beq</span> := <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.beqPoly._@.Mathlib.Tactic.Polyrith._hyg.220">Mathlib.Tactic.Polyrith.beqPoly✝</a> <a href="../.././Init/Prelude.html#BEq.mk">}</a></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.Poly.format"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L80-L96">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">format</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a> → <a href="../.././Init/Data/Format/Basic.html#Std.Format">Std.Format</a></span></div></div><p>This converts a poly object into a string representing it. The string
maintains the semantic structure of the poly object.</p><p>The output of this function must be valid Python syntax, and it assumes the variables <code>vars</code>
(see <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.sageCreateQuery">sageCreateQuery</a></code>).</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">(<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <span class="fn">z</span>)</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Data/Format/Basic.html#Std.Format.text">Std.Format.text</a> <span class="fn">(<a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">z</span>)</span></span></li><li class="equation"><span class="fn"><span class="fn">(<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.var">Mathlib.Tactic.Polyrith.Poly.var</a> <span class="fn">n</span>)</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Data/Format/Basic.html#Std.Format.text">Std.Format.text</a> (<span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;vars[&quot;</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">n</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;]&quot;</span></span>)</span></li><li class="equation"><span class="fn"><span class="fn">(<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.hyp">Mathlib.Tactic.Polyrith.Poly.hyp</a> <span class="fn">e</span>)</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Data/Format/Basic.html#Std.Format.text">Std.Format.text</a> (<span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;hyp&quot;</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;&quot;</span></span>)</span></li><li class="equation"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">p</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.add">add</a></span> <span class="fn">q</span>)</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Data/Format/Basic.html#Std.Format.text">Std.Format.text</a> (<span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;(&quot;</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn"><span class="fn">p</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot; + &quot;</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn"><span class="fn">q</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;)&quot;</span></span>)</span></li><li class="equation"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">p</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.sub">sub</a></span> <span class="fn">q</span>)</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Data/Format/Basic.html#Std.Format.text">Std.Format.text</a> (<span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;(&quot;</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn"><span class="fn">p</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot; - &quot;</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn"><span class="fn">q</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;)&quot;</span></span>)</span></li><li class="equation"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">p</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.mul">mul</a></span> <span class="fn">q</span>)</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Data/Format/Basic.html#Std.Format.text">Std.Format.text</a> (<span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;(&quot;</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn"><span class="fn">p</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot; * &quot;</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn"><span class="fn">q</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;)&quot;</span></span>)</span></li><li class="equation"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">p</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.div">div</a></span> <span class="fn">q</span>)</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Data/Format/Basic.html#Std.Format.text">Std.Format.text</a> (<span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;(&quot;</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn"><span class="fn">p</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot; / &quot;</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn"><span class="fn">q</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;)&quot;</span></span>)</span></li><li class="equation"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">p</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.pow">pow</a></span> <span class="fn">q</span>)</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Data/Format/Basic.html#Std.Format.text">Std.Format.text</a> (<span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;(&quot;</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn"><span class="fn">p</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot; ^ &quot;</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn"><span class="fn">q</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;)&quot;</span></span>)</span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.neg">neg</a></span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Data/Format/Basic.html#Std.Format.text">Std.Format.text</a> (<span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;-&quot;</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn"><span class="fn">p</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;&quot;</span></span>)</span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.Poly.format" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instToFormatPoly"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L98-L98">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instToFormatPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instToFormatPoly</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Format/Basic.html#Std.ToFormat">Std.ToFormat</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instToFormatPoly">Mathlib.Tactic.Polyrith.instToFormatPoly</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/Format/Basic.html#Std.ToFormat.mk">{</a> <span class="fn">format</span> := <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">Mathlib.Tactic.Polyrith.Poly.format</a> <a href="../.././Init/Data/Format/Basic.html#Std.ToFormat.mk">}</a></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instToStringPoly"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L99-L99">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instToStringPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instToStringPoly</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString">ToString</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instToStringPoly">Mathlib.Tactic.Polyrith.instToStringPoly</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/ToString/Basic.html#ToString.mk">{</a> <span class="fn">toString</span> := <span class="fn">fun (<span class="fn">x</span> : <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a>) =&gt; <span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn"><span class="fn">x</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span></span></span> <a href="../.././Init/Data/ToString/Basic.html#ToString.mk">}</a></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instReprPoly"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L100-L100">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instReprPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instReprPoly</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Repr.html#Repr">Repr</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instReprPoly">Mathlib.Tactic.Polyrith.instReprPoly</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/Repr.html#Repr.mk">{</a> <span class="fn">reprPrec</span> := <span class="fn">fun (<span class="fn">p</span> : <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Mathlib.Tactic.Polyrith.Poly</a>) (<span class="fn">x</span> : <a href="../.././Init/Prelude.html#Nat">ℕ</a>) =&gt; <span class="fn"><span class="fn">p</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.format">format</a></span></span> <a href="../.././Init/Data/Repr.html#Repr.mk">}</a></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instInhabitedPoly"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L101-L101">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instInhabitedPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instInhabitedPoly</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instInhabitedPoly">Mathlib.Tactic.Polyrith.instInhabitedPoly</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <span class="fn">0</span></span> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instQuoteIntMkStr1_mathlib"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L103-L105">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instQuoteIntMkStr1_mathlib"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instQuoteIntMkStr1_mathlib</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Meta.html#Lean.Quote">Lean.Quote</a> <a href="../.././Init/Data/Int/Basic.html#Int">ℤ</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instQuoteRatMkStr1_mathlib"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L107-L110">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instQuoteRatMkStr1_mathlib"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instQuoteRatMkStr1_mathlib</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Meta.html#Lean.Quote">Lean.Quote</a> <a href="../.././Batteries/Data/Rat/Basic.html#Rat">ℚ</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.Poly.toSyntax"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L113-L123">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.toSyntax"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">toSyntax</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">vars</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a> → <span class="fn"><a href="../.././Lean/Hygiene.html#Lean.Unhygienic">Lean.Unhygienic</a> <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a></span></span></div></div><p>Converts a <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></code> expression into a <code>Syntax</code> suitable as an input to <code>linear_combination</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li><li class="equation"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.toSyntax">Mathlib.Tactic.Polyrith.Poly.toSyntax</a> <span class="fn">vars</span> <span class="fn">(<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <span class="fn">z</span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<a href="../.././Init/Meta.html#Lean.Quote.quote">Lean.quote</a> <span class="fn">`term</span> <span class="fn">z</span>)</span></span></li><li class="equation"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.toSyntax">Mathlib.Tactic.Polyrith.Poly.toSyntax</a> <span class="fn">vars</span> <span class="fn">(<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.var">Mathlib.Tactic.Polyrith.Poly.var</a> <span class="fn">n</span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">vars</span><a href="../.././Init/GetElem.html#GetElem?.getElem!">[</a><span class="fn">n</span><a href="../.././Init/GetElem.html#GetElem?.getElem!">]</a><a href="../.././Init/GetElem.html#GetElem?.getElem!">!</a></span></li><li class="equation"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.toSyntax">Mathlib.Tactic.Polyrith.Poly.toSyntax</a> <span class="fn">vars</span> <span class="fn">(<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.hyp">Mathlib.Tactic.Polyrith.Poly.hyp</a> <span class="fn">e</span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">e</span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.Poly.toSyntax" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.parse"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L126-L153">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.parse"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">parse</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">u</span> : <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <span class="fn">Q(<a href="../.././foundational_types.html">Type</a> u)</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">sα</span> : <span class="fn">Q(<span class="fn"><a href="../.././Mathlib/Algebra/Ring/Defs.html#CommSemiring">CommSemiring</a> <span class="fn">«$α»</span></span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">c</span> : <span class="fn"><a href="../.././Mathlib/Tactic/Ring/Basic.html#Mathlib.Tactic.Ring.Cache">Ring.Cache</a> <span class="fn">sα</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <span class="fn">Q(<span class="fn">«$α»</span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Util/AtomM.html#Mathlib.Tactic.AtomM">AtomM</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></div></div><p>Reifies a ring expression of type <code>α</code> as a <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></code>.</p></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.Source"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L155-L160">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Source</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>The possible hypothesis sources for a polyrith proof.</p><ul class="constructors"><li class="constructor" id="Mathlib.Tactic.Polyrith.Source.input">input : <span class="fn"><a href="../.././Init/Prelude.html#Nat">ℕ</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source">Source</a></span><div class="inductive_ctor_doc"><p><code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source.input">input</a> n</code> refers to the <code>n</code>'th input <code>ai</code> in <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a> [a1, ..., an]</code>.</p></div></li><li class="constructor" id="Mathlib.Tactic.Polyrith.Source.fvar">fvar : <span class="fn"><a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source">Source</a></span><div class="inductive_ctor_doc"><p><code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source.fvar">fvar</a> h</code> refers to hypothesis <code>h</code> from the local context.</p></div></li></ul><details id="instances-for-list-Mathlib.Tactic.Polyrith.Source" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.parseContext"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L162-L187">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.parseContext"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">parseContext</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">only</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hyps</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">target</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Util/AtomM.html#Mathlib.Tactic.AtomM">AtomM</a> (<a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source">Source</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a>)</span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a>)</span></div></div><p>The first half of <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a></code> produces a list of arguments to be sent to Sage.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.parseContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.parseContext.processHyp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L176-L180">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.parseContext.processHyp"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">parseContext</span>.<span class="name">processHyp</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">v</span> : <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <span class="fn">Q(<a href="../.././foundational_types.html">Type</a> v)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">sα</span> : <span class="fn">Q(<span class="fn"><a href="../.././Mathlib/Algebra/Ring/Defs.html#CommSemiring">CommSemiring</a> <span class="fn">«$α»</span></span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">c</span> : <span class="fn"><a href="../.././Mathlib/Tactic/Ring/Basic.html#Mathlib.Tactic.Ring.Cache">Ring.Cache</a> <span class="fn">sα</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">src</span> : <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source">Source</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ty</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">out</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source">Source</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Util/AtomM.html#Mathlib.Tactic.AtomM">AtomM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source">Source</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a>))</span></span></div></div><p>Parses a hypothesis and adds it to the <code>out</code> list.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.parseContext.processHyp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instFromJsonRat_mathlib"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L189-L192">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instFromJsonRat_mathlib"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonRat_mathlib</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/Json/FromToJson/Basic.html#Lean.FromJson">Lean.FromJson</a> <a href="../.././Batteries/Data/Rat/Basic.html#Rat">ℚ</a></span></div></div><p>A JSON parser for <code>ℚ</code> specific to the return value of Sage.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.instFromJsonRat_mathlib" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.Poly.unNeg?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L194-L199">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unNeg?"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">unNeg?</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a> → <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></span></div></div><p>Removes an initial <code>-</code> sign from a polynomial with negative leading coefficient.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">a</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.mul">mul</a></span> <span class="fn">b</span>)</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unNeg?">unNeg?</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><span class="fn">a</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unNeg?">unNeg?</a></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.mul">mul</a></span> <span class="fn">b</span>)</span></span></span></li><li class="equation"><span class="fn"><span class="fn">(<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <span class="fn">i</span>)</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unNeg?">unNeg?</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#ite">if</a> <span class="fn">i</span> <a href="../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">0</span> <a href="../.././Init/Prelude.html#ite">then</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">(<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> (<a href="../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">i</span>))</span></span> <a href="../.././Init/Prelude.html#ite">else</a> <a href="../.././Init/Prelude.html#Option.none">none</a></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.neg">neg</a></span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unNeg?">unNeg?</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">p</span></span></li><li class="equation"><span class="fn"><span class="fn">x✝</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unNeg?">unNeg?</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Option.none">none</a></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.Poly.unNeg?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.Poly.add'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L201-L210">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.add'"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">add'</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></div></div><p>Adds two polynomials, performing some simple simplifications for presentation like
<code>a + -b = a - b</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <a href="../.././Batteries/Data/Rat/Basic.html#Rat.mk'">{</a> <span class="fn">num</span> := <span class="fn"><a href="../.././Init/Data/Int/Basic.html#Int.ofNat">Int.ofNat</a> <span class="fn">0</span></span>, <span class="fn">den_nz</span> := <span class="fn">⋯</span>, <span class="fn">reduced</span> := <span class="fn">⋯</span> <a href="../.././Batteries/Data/Rat/Basic.html#Rat.mk'">}</a>)</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.add'">add'</a></span> <span class="fn">x✝</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn">x✝</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unNeg?">unNeg?</a></span> with
  | <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">np</span></span> =&gt; <span class="fn"><span class="fn">np</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.neg">neg</a></span>
  | <a href="../.././Init/Prelude.html#Option.none">none</a> =&gt; <span class="fn">x✝</span></span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">x✝</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.add'">add'</a></span> <span class="fn">(<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <a href="../.././Batteries/Data/Rat/Basic.html#Rat.mk'">{</a> <span class="fn">num</span> := <span class="fn"><a href="../.././Init/Data/Int/Basic.html#Int.ofNat">Int.ofNat</a> <span class="fn">0</span></span>, <span class="fn">den_nz</span> := <span class="fn">⋯</span>, <span class="fn">reduced</span> := <span class="fn">⋯</span> <a href="../.././Batteries/Data/Rat/Basic.html#Rat.mk'">}</a>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">x✝</span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">x✝¹</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.add'">add'</a></span> <span class="fn">x✝</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn">x✝</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unNeg?">unNeg?</a></span> with
  | <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">nb</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">x✝¹</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.sub">sub</a></span> <span class="fn">nb</span></span>
  | <a href="../.././Init/Prelude.html#Option.none">none</a> =&gt; <span class="fn"><span class="fn"><span class="fn">x✝¹</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.add">add</a></span> <span class="fn">x✝</span></span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.Poly.add'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.Poly.mul'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L212-L218">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.mul'"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">mul'</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></div></div><p>Multiplies two polynomials, performing some simple simplifications for presentation like
<code>1 * a = a</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <a href="../.././Batteries/Data/Rat/Basic.html#Rat.mk'">{</a> <span class="fn">num</span> := <span class="fn"><a href="../.././Init/Data/Int/Basic.html#Int.ofNat">Int.ofNat</a> <span class="fn">0</span></span>, <span class="fn">den_nz</span> := <span class="fn">⋯</span>, <span class="fn">reduced</span> := <span class="fn">⋯</span> <a href="../.././Batteries/Data/Rat/Basic.html#Rat.mk'">}</a>)</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.mul'">mul'</a></span> <span class="fn">x✝</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <span class="fn">0</span></span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <a href="../.././Batteries/Data/Rat/Basic.html#Rat.mk'">{</a> <span class="fn">num</span> := <span class="fn"><a href="../.././Init/Data/Int/Basic.html#Int.ofNat">Int.ofNat</a> <span class="fn">1</span></span>, <span class="fn">den_nz</span> := <span class="fn">⋯</span>, <span class="fn">reduced</span> := <span class="fn">⋯</span> <a href="../.././Batteries/Data/Rat/Basic.html#Rat.mk'">}</a>)</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.mul'">mul'</a></span> <span class="fn">x✝</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">x✝</span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">x✝</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.mul'">mul'</a></span> <span class="fn">(<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <a href="../.././Batteries/Data/Rat/Basic.html#Rat.mk'">{</a> <span class="fn">num</span> := <span class="fn"><a href="../.././Init/Data/Int/Basic.html#Int.ofNat">Int.ofNat</a> <span class="fn">1</span></span>, <span class="fn">den_nz</span> := <span class="fn">⋯</span>, <span class="fn">reduced</span> := <span class="fn">⋯</span> <a href="../.././Batteries/Data/Rat/Basic.html#Rat.mk'">}</a>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">x✝</span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">x✝¹</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.mul'">mul'</a></span> <span class="fn">x✝</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x✝¹</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.mul">mul</a></span> <span class="fn">x✝</span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.Poly.mul'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.Poly.unDiv?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L220-L225">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unDiv?"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">unDiv?</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a> → <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> (<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/Prelude.html#Nat">ℕ</a>)</span></span></div></div><p>Extracts the divisor <code>c : ℕ</code> from a polynomial of the form <code>1/c * b</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">a</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.mul">mul</a></span> <span class="fn">b</span>)</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unDiv?">unDiv?</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__discr</span> ← <span class="fn"><span class="fn">a</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unDiv?">unDiv?</a></span>
  <span class="fn">match <span class="fn">__discr</span> with
    | <a href="../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">a</span><a href="../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">r</span><a href="../.././Init/Prelude.html#Prod.mk">)</a> =&gt; <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Init/Prelude.html#Prod.mk">(</a><span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.mul'">mul'</a></span> <span class="fn">b</span></span><a href="../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">r</span><a href="../.././Init/Prelude.html#Prod.mk">)</a></span></span></span></li><li class="equation"><span class="fn"><span class="fn">(<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <span class="fn">i</span>)</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unDiv?">unDiv?</a></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn">i</span>.<a href="../.././Batteries/Data/Rat/Basic.html#Rat.num">num</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">1</span> <a href="../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn">i</span>.<a href="../.././Batteries/Data/Rat/Basic.html#Rat.den">den</a></span> <a href="../.././Init/Core.html#Ne">≠</a> <span class="fn">1</span> <a href="../.././Init/Prelude.html#ite">then</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <a href="../.././Init/Prelude.html#Prod.mk">(</a><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <span class="fn">↑<span class="fn"><span class="fn">i</span>.<a href="../.././Batteries/Data/Rat/Basic.html#Rat.num">num</a></span></span></span><a href="../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">i</span>.<a href="../.././Batteries/Data/Rat/Basic.html#Rat.den">den</a></span><a href="../.././Init/Prelude.html#Prod.mk">)</a></span> <a href="../.././Init/Prelude.html#ite">else</a> <a href="../.././Init/Prelude.html#Option.none">none</a></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.neg">neg</a></span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unDiv?">unDiv?</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__discr</span> ← <span class="fn"><span class="fn">p</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unDiv?">unDiv?</a></span>
  <span class="fn">match <span class="fn">__discr</span> with
    | <a href="../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">p</span><a href="../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">r</span><a href="../.././Init/Prelude.html#Prod.mk">)</a> =&gt; <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Init/Prelude.html#Prod.mk">(</a><span class="fn"><span class="fn">p</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.neg">neg</a></span><a href="../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">r</span><a href="../.././Init/Prelude.html#Prod.mk">)</a></span></span></span></li><li class="equation"><span class="fn"><span class="fn">x✝</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.unDiv?">unDiv?</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Option.none">none</a></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.Poly.unDiv?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.Poly.pow'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L227-L231">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.pow'"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">pow'</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Nat">ℕ</a> → <a href="../.././Init/Prelude.html#Nat">ℕ</a> → <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></div></div><p>Constructs a power expression <code>v_i ^ j</code>, performing some simplifications in trivial cases.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.pow'">Mathlib.Tactic.Polyrith.Poly.pow'</a> <span class="fn">x✝</span> <span class="fn">0</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <span class="fn">1</span></span></li><li class="equation"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.pow'">Mathlib.Tactic.Polyrith.Poly.pow'</a> <span class="fn">x✝</span> <span class="fn">1</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.var">Mathlib.Tactic.Polyrith.Poly.var</a> <span class="fn">x✝</span></span></li><li class="equation"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.pow'">Mathlib.Tactic.Polyrith.Poly.pow'</a> <span class="fn">x✝¹</span> <span class="fn">x✝</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn">(<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.var">Mathlib.Tactic.Polyrith.Poly.var</a> <span class="fn">x✝¹</span>)</span>.<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.pow">pow</a></span> <span class="fn">(<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.const">Mathlib.Tactic.Polyrith.Poly.const</a> <span class="fn">↑<span class="fn">x✝</span></span>)</span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.Poly.pow'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.Poly.sumM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L233-L235">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly.sumM"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">Poly</span>.<span class="name">sumM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_2}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><span class="fn">m</span> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></div></div><p>Constructs a sum from a monadic function supplying the monomials.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.Poly.sumM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instFromJsonPoly"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L237-L243">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instFromJsonPoly"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonPoly</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/Json/FromToJson/Basic.html#Lean.FromJson">Lean.FromJson</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.SageCoeffAndPower"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L245-L253">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageCoeffAndPower"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">SageCoeffAndPower</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A schema for the data reported by the Sage calculation</p><ul class="structure_fields" id="Mathlib.Tactic.Polyrith.SageCoeffAndPower.mk"><li id="Mathlib.Tactic.Polyrith.SageCoeffAndPower.coeffs" class="structure_field"><div class="structure_field_info">coeffs : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></span></div><div class="structure_field_doc"><p>The function call produces an array of polynomials
parallel to the input list of hypotheses.</p></div></li><li id="Mathlib.Tactic.Polyrith.SageCoeffAndPower.power" class="structure_field"><div class="structure_field_info">power : <a href="../.././Init/Prelude.html#Nat">ℕ</a></div><div class="structure_field_doc"><p>Sage produces an exponent (default 1) in the case where the hypotheses
sum to a power of the goal.</p></div></li></ul><details id="instances-for-list-Mathlib.Tactic.Polyrith.SageCoeffAndPower" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instFromJsonSageCoeffAndPower"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L253-L253">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instFromJsonSageCoeffAndPower"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonSageCoeffAndPower</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/Json/FromToJson/Basic.html#Lean.FromJson">Lean.FromJson</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageCoeffAndPower">SageCoeffAndPower</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instFromJsonSageCoeffAndPower">Mathlib.Tactic.Polyrith.instFromJsonSageCoeffAndPower</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Lean/Data/Json/FromToJson/Basic.html#Lean.FromJson.mk">{</a> <span class="fn">fromJson?</span> := <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.fromJsonSageCoeffAndPower._@.Mathlib.Tactic.Polyrith._hyg.6483">Mathlib.Tactic.Polyrith.fromJsonSageCoeffAndPower✝</a> <a href="../.././Lean/Data/Json/FromToJson/Basic.html#Lean.FromJson.mk">}</a></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instReprSageCoeffAndPower"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L253-L253">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instReprSageCoeffAndPower"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instReprSageCoeffAndPower</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Repr.html#Repr">Repr</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageCoeffAndPower">SageCoeffAndPower</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instReprSageCoeffAndPower">Mathlib.Tactic.Polyrith.instReprSageCoeffAndPower</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/Repr.html#Repr.mk">{</a> <span class="fn">reprPrec</span> := <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.reprSageCoeffAndPower._@.Mathlib.Tactic.Polyrith._hyg.6590">Mathlib.Tactic.Polyrith.reprSageCoeffAndPower✝</a> <a href="../.././Init/Data/Repr.html#Repr.mk">}</a></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.SageSuccess"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L255-L263">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageSuccess"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">SageSuccess</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>The result of a sage call in the success case.</p><ul class="structure_fields" id="Mathlib.Tactic.Polyrith.SageSuccess.mk"><li id="Mathlib.Tactic.Polyrith.SageSuccess.trace" class="structure_field"><div class="structure_field_info">trace : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#String">String</a></span></div><div class="structure_field_doc"><p>The script returns a string containing python script to be sent to the remote server,
when the tracing option is set.</p></div></li><li id="Mathlib.Tactic.Polyrith.SageSuccess.data" class="structure_field"><div class="structure_field_info">data : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageCoeffAndPower">SageCoeffAndPower</a></span></div><div class="structure_field_doc"><p>The main result of the function call is an array of polynomials
parallel to the input list of hypotheses and an exponent for the goal.</p></div></li></ul><details id="instances-for-list-Mathlib.Tactic.Polyrith.SageSuccess" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instFromJsonSageSuccess"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L263-L263">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instFromJsonSageSuccess"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonSageSuccess</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/Json/FromToJson/Basic.html#Lean.FromJson">Lean.FromJson</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageSuccess">SageSuccess</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instFromJsonSageSuccess">Mathlib.Tactic.Polyrith.instFromJsonSageSuccess</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Lean/Data/Json/FromToJson/Basic.html#Lean.FromJson.mk">{</a> <span class="fn">fromJson?</span> := <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.fromJsonSageSuccess._@.Mathlib.Tactic.Polyrith._hyg.6675">Mathlib.Tactic.Polyrith.fromJsonSageSuccess✝</a> <a href="../.././Lean/Data/Json/FromToJson/Basic.html#Lean.FromJson.mk">}</a></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instReprSageSuccess"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L263-L263">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instReprSageSuccess"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instReprSageSuccess</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Repr.html#Repr">Repr</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageSuccess">SageSuccess</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instReprSageSuccess">Mathlib.Tactic.Polyrith.instReprSageSuccess</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/Repr.html#Repr.mk">{</a> <span class="fn">reprPrec</span> := <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.reprSageSuccess._@.Mathlib.Tactic.Polyrith._hyg.6782">Mathlib.Tactic.Polyrith.reprSageSuccess✝</a> <a href="../.././Init/Data/Repr.html#Repr.mk">}</a></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.SageError"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L265-L271">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageError"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">SageError</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>The result of a sage call in the failure case.</p><ul class="structure_fields" id="Mathlib.Tactic.Polyrith.SageError.mk"><li id="Mathlib.Tactic.Polyrith.SageError.name" class="structure_field"><div class="structure_field_info">name : <a href="../.././Init/Prelude.html#String">String</a></div><div class="structure_field_doc"><p>The error kind</p></div></li><li id="Mathlib.Tactic.Polyrith.SageError.value" class="structure_field"><div class="structure_field_info">value : <a href="../.././Init/Prelude.html#String">String</a></div><div class="structure_field_doc"><p>The error message</p></div></li></ul><details id="instances-for-list-Mathlib.Tactic.Polyrith.SageError" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instFromJsonSageError"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L271-L271">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instFromJsonSageError"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonSageError</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/Json/FromToJson/Basic.html#Lean.FromJson">Lean.FromJson</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageError">SageError</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instFromJsonSageError">Mathlib.Tactic.Polyrith.instFromJsonSageError</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Lean/Data/Json/FromToJson/Basic.html#Lean.FromJson.mk">{</a> <span class="fn">fromJson?</span> := <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.fromJsonSageError._@.Mathlib.Tactic.Polyrith._hyg.6863">Mathlib.Tactic.Polyrith.fromJsonSageError✝</a> <a href="../.././Lean/Data/Json/FromToJson/Basic.html#Lean.FromJson.mk">}</a></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.SageResult"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L273-L274">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageResult"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">SageResult</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>The result of a sage call.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageResult">Mathlib.Tactic.Polyrith.SageResult</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Except">Except</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageError">Mathlib.Tactic.Polyrith.SageError</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageSuccess">Mathlib.Tactic.Polyrith.SageSuccess</a></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.SageResult" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h1 class="markdown-heading" id="Interaction-with-SageMath">Interaction with SageMath <a class="hover-link" href="#Interaction-with-SageMath">#</a></h1></div><div class="decl" id="Mathlib.Tactic.Polyrith.sageHelperFunctions"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L281-L287">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.sageHelperFunctions"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">sageHelperFunctions</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#String">String</a></div></div><p>These are Sage functions that test membership in the radical and format the output. See
<a href="https://github.com/sagemath/sage/blob/f8df80820dc7321dc9b18c9644c3b8315999670b/src/sage/rings/polynomial/multi_polynomial_libsingular.pyx#L4472-L4518">https://github.com/sagemath/sage/blob/f8df80820dc7321dc9b18c9644c3b8315999670b/src/sage/rings/polynomial/multi_polynomial_libsingular.pyx#L4472-L4518</a>
for a description of <code>MPolynomial_libsingular.lift</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.sageHelperFunctions" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.sageTypeStr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L289-L294">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.sageTypeStr"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">sageTypeStr</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <a href="../.././Init/Prelude.html#String">String</a></span></div></div><p>The Sage type to use, given a base type of the target. Currently always rational numbers (<code>QQ</code>).
Future extensions may change behavior depending on the base type.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.sageTypeStr">Mathlib.Tactic.Polyrith.sageTypeStr</a> <span class="fn">x✝</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">&quot;QQ&quot;</span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.sageTypeStr" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.sageCreateQuery"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L296-L308">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.sageCreateQuery"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">sageCreateQuery</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">atoms</span> : <a href="../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hyps</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source">Source</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">target</span> : <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#String">String</a></span></div></div><p>Create a Sage script to send to SageMath API.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.sageCreateQuery" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.instFromJsonSageResult"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L310-L326">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.instFromJsonSageResult"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">instFromJsonSageResult</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/Json/FromToJson/Basic.html#Lean.FromJson">Lean.FromJson</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageResult">SageResult</a></span></div></div><p>Parse a <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageResult">SageResult</a></code> from the raw SageMath API output.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.polyrith.sageUserAgent"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L328-L332">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith.sageUserAgent"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">polyrith</span>.<span class="name">sageUserAgent</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../.././Init/Prelude.html#String">String</a></span></div></div><p>The User-Agent header value for HTTP calls to SageMath API</p></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.runSage"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L334-L364">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.runSage"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">runSage</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">trace</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">atoms</span> : <a href="../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hyps</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Source">Source</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">target</span> : <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageResult">SageResult</a></span></div></div><p>This function calls the Sage API at <a href="https://sagecell.sagemath.org/service">https://sagecell.sagemath.org/service</a>.
The output is parsed as <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.SageResult">SageResult</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.runSage" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h1 class="markdown-heading" id="Main-function">Main function <a class="hover-link" href="#Main-function">#</a></h1></div><div class="decl" id="Mathlib.Tactic.Polyrith.polyrith"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L371-L436">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">polyrith</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">g</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">only</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hyps</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">traceOnly</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Except">Except</a> <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a> (<a href="../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`tactic</span>))</span></span></div></div><p>This is the main body of the <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a></code> tactic. It takes in the following inputs:</p><ul>
<li><code>only : <a href="../.././Init/Prelude.html#Bool">Bool</a></code> - This represents whether the user used the key word &quot;only&quot;</li>
<li><code>hyps : <a href="../.././Init/Prelude.html#Array">Array</a> Expr</code> - the hypotheses/proof terms selected by the user</li>
<li><code>traceOnly : <a href="../.././Init/Prelude.html#Bool">Bool</a></code> - If enabled, the returned syntax will be <code>.missing</code></li>
</ul><p>First, the tactic converts the target into a <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></code>, and finds out what type it
is an equality of. (It also fills up a list of <code>Expr</code>s with its atoms). Then, it
collects all the relevant hypotheses/proof terms from the context, and from those
selected by the user, taking into account whether <code>only</code> is true. (The list of atoms is
updated accordingly as well).</p><p>This information is used to create an appropriate SageMath script that executes a
Groebner basis computation, which is sent to SageMath's API server.
The output of this computation is a JSON representing the certificate.
This JSON is parsed into the power of the goal and a list of <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.Poly">Poly</a></code> objects
that are then converted into <code>Expr</code>s (using the updated list of atoms).</p><p>the names of the hypotheses, along with the corresponding coefficients are
given to <code>linear_combination</code>. If that tactic succeeds, the user is prompted
to replace the call to <code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a></code> with the appropriate call to
<code>linear_combination</code>.</p><p>Returns <code>.error g</code> if this was a &quot;dry run&quot; attempt that does not actually invoke sage.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.polyrith" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.polyrith.byRing"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L403-L408">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith.byRing"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">polyrith</span>.<span class="name">byRing</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">g</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">msg</span> : <a href="../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Mathlib/Util/AtomM.html#Mathlib.Tactic.AtomM">AtomM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Except">Except</a> <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a> (<a href="../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`tactic</span>))</span></span></div></div><p>Try to prove the goal by <code>ring</code> and fail with the given message otherwise.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.polyrith.byRing" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Polyrith.«tacticPolyrithOnly[_]»"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/Tactic/Polyrith.lean#L438-L475">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.«tacticPolyrithOnly[_]»"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Polyrith</span>.<span class="name">«tacticPolyrithOnly[_]»</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p>Attempts to prove polynomial equality goals through polynomial arithmetic
on the hypotheses (and additional proof terms if the user specifies them).
It proves the goal by generating an appropriate call to the tactic
<code>linear_combination</code>. If this call succeeds, the call to <code>linear_combination</code>
is suggested to the user.</p><ul>
<li><code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a></code> will use all relevant hypotheses in the local context.</li>
<li><code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a> [t1, t2, t3]</code> will add proof terms t1, t2, t3 to the local context.</li>
<li><code><a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a> only [h1, h2, h3, t1, t2, t3]</code> will use only local hypotheses
<code>h1</code>, <code>h2</code>, <code>h3</code>, and proofs <code>t1</code>, <code>t2</code>, <code>t3</code>. It will ignore the rest of the local context.</li>
</ul><p>Notes:</p><ul>
<li>This tactic only works with a working internet connection, since it calls Sage
using the SageCell web API at <a href="https://sagecell.sagemath.org/">https://sagecell.sagemath.org/</a>.
Many thanks to the Sage team and organization for allowing this use.</li>
<li>This tactic assumes that the user has <code>curl</code> available on path.</li>
</ul><p>Examples:</p><pre><code class="language-lean">example (x y : ℚ) (h1 : x*y + 2*x = 1) (h2 : x = y) :
    x*y = -2*y + 1 := by
  <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a>
-- Try this: linear_combination h1 - 2 * h2

example (x y z w : ℚ) (hzw : z = w) : x*z + 2*y*z = x*w + 2*y*w := by
  <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a>
-- Try this: linear_combination (2 * y + x) * hzw

axiom scary : ∀ a b : ℚ, a + b = 0

example (a b c d : ℚ) (h : a + b = 0) (h2: b + c = 0) : a + b + c + d = 0 := by
  <a href="../.././Mathlib/Tactic/Polyrith.html#Mathlib.Tactic.Polyrith.polyrith">polyrith</a> only [scary c d, h]
-- Try this: linear_combination scary c d + h
</code></pre><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Polyrith.«tacticPolyrithOnly[_]»" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>