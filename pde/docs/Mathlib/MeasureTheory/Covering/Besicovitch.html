<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Mathlib.MeasureTheory.Covering.Besicovitch</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Mathlib.MeasureTheory.Covering.Besicovitch";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Mathlib</span>.<span class="name">MeasureTheory</span>.<span class="name">Covering</span>.<span class="name">Besicovitch</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Init.html">Init</a></li><li><a href="../../.././Mathlib/MeasureTheory/Covering/Differentiation.html">Mathlib.MeasureTheory.Covering.Differentiation</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Mathlib.MeasureTheory.Covering.Besicovitch" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Besicovitch.SatelliteConfig"><span class="name">Besicovitch</span>.<span class="name">SatelliteConfig</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Meta.Positivity.evalBesicovitchSatelliteConfigR"><span class="name">Mathlib</span>.<span class="name">Meta</span>.<span class="name">Positivity</span>.<span class="name">evalBesicovitchSatelliteConfigR</span></a></div><div class="nav_link"><a class="break_within" href="#HasBesicovitchCovering"><span class="name">HasBesicovitchCovering</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.SatelliteConfig.instInhabited"><span class="name">Besicovitch</span>.<span class="name">SatelliteConfig</span>.<span class="name">instInhabited</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.SatelliteConfig.inter'"><span class="name">Besicovitch</span>.<span class="name">SatelliteConfig</span>.<span class="name">inter'</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.SatelliteConfig.hlast'"><span class="name">Besicovitch</span>.<span class="name">SatelliteConfig</span>.<span class="name">hlast'</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.BallPackage"><span class="name">Besicovitch</span>.<span class="name">BallPackage</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.unitBallPackage"><span class="name">Besicovitch</span>.<span class="name">unitBallPackage</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.BallPackage.instInhabited"><span class="name">Besicovitch</span>.<span class="name">BallPackage</span>.<span class="name">instInhabited</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.TauPackage"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.TauPackage.instInhabited"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span>.<span class="name">instInhabited</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.TauPackage.index"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span>.<span class="name">index</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.TauPackage.iUnionUpTo"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span>.<span class="name">iUnionUpTo</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.TauPackage.monotone_iUnionUpTo"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span>.<span class="name">monotone_iUnionUpTo</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.TauPackage.R"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span>.<span class="name">R</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.TauPackage.color"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span>.<span class="name">color</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.TauPackage.lastStep"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span>.<span class="name">lastStep</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.TauPackage.lastStep_nonempty"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span>.<span class="name">lastStep_nonempty</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.TauPackage.mem_iUnionUpTo_lastStep"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span>.<span class="name">mem_iUnionUpTo_lastStep</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.TauPackage.color_lt"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span>.<span class="name">color_lt</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.exist_disjoint_covering_families"><span class="name">Besicovitch</span>.<span class="name">exist_disjoint_covering_families</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.exist_finset_disjoint_balls_large_measure"><span class="name">Besicovitch</span>.<span class="name">exist_finset_disjoint_balls_large_measure</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.exists_disjoint_closedBall_covering_ae_of_finiteMeasure_aux"><span class="name">Besicovitch</span>.<span class="name">exists_disjoint_closedBall_covering_ae_of_finiteMeasure_aux</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.exists_disjoint_closedBall_covering_ae_aux"><span class="name">Besicovitch</span>.<span class="name">exists_disjoint_closedBall_covering_ae_aux</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.exists_disjoint_closedBall_covering_ae"><span class="name">Besicovitch</span>.<span class="name">exists_disjoint_closedBall_covering_ae</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.exists_closedBall_covering_tsum_measure_le"><span class="name">Besicovitch</span>.<span class="name">exists_closedBall_covering_tsum_measure_le</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.vitaliFamily"><span class="name">Besicovitch</span>.<span class="name">vitaliFamily</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.tendsto_filterAt"><span class="name">Besicovitch</span>.<span class="name">tendsto_filterAt</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.ae_tendsto_rnDeriv"><span class="name">Besicovitch</span>.<span class="name">ae_tendsto_rnDeriv</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.ae_tendsto_measure_inter_div_of_measurableSet"><span class="name">Besicovitch</span>.<span class="name">ae_tendsto_measure_inter_div_of_measurableSet</span></a></div><div class="nav_link"><a class="break_within" href="#Besicovitch.ae_tendsto_measure_inter_div"><span class="name">Besicovitch</span>.<span class="name">ae_tendsto_measure_inter_div</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="Besicovitch-covering-theorems">Besicovitch covering theorems <a class="hover-link" href="#Besicovitch-covering-theorems">#</a></h1><p>The topological Besicovitch covering theorem ensures that, in a nice metric space, there exists a
number <code>N</code> such that, from any family of balls with bounded radii, one can extract <code>N</code> families,
each made of disjoint balls, covering together all the centers of the initial family.</p><p>By &quot;nice metric space&quot;, we mean a technical property stated as follows: there exists no satellite
configuration of <code>N + 1</code> points (with a given parameter <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.τ">τ</a> &gt; 1</code>). Such a configuration is a family
of <code>N + 1</code> balls, where the first <code>N</code> balls all intersect the last one, but none of them contains
the center of another one and their radii are controlled. This property is for instance
satisfied by finite-dimensional real vector spaces.</p><p>In this file, we prove the topological Besicovitch covering theorem,
in <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.exist_disjoint_covering_families">Besicovitch.exist_disjoint_covering_families</a></code>.</p><p>The measurable Besicovitch theorem ensures that, in the same class of metric spaces, if at every
point one considers a class of balls of arbitrarily small radii, called admissible balls, then
one can cover almost all the space by a family of disjoint admissible balls.
It is deduced from the topological Besicovitch theorem, and proved
in <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.exists_disjoint_closedBall_covering_ae">Besicovitch.exists_disjoint_closedBall_covering_ae</a></code>.</p><p>This implies that balls of small radius form a Vitali family in such spaces. Therefore, theorems
on differentiation of measures hold as a consequence of general results. We restate them in this
context to make them more easily usable.</p><h2 class="markdown-heading" id="Main-definitions-and-results">Main definitions and results <a class="hover-link" href="#Main-definitions-and-results">#</a></h2><ul>
<li><code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig">SatelliteConfig</a> α N <a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.τ">τ</a></code> is the type of all satellite configurations of <code>N + 1</code> points
in the metric space <code>α</code>, with parameter <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.τ">τ</a></code>.</li>
<li><code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#HasBesicovitchCovering">HasBesicovitchCovering</a></code> is a class recording that there exist <code>N</code> and <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.τ">τ</a> &gt; 1</code> such that
there is no satellite configuration of <code>N + 1</code> points with parameter <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.τ">τ</a></code>.</li>
<li><code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.exist_disjoint_covering_families">exist_disjoint_covering_families</a></code> is the topological Besicovitch covering theorem: from any
family of balls one can extract finitely many disjoint subfamilies covering the same set.</li>
<li><code>exists_disjoint_closedBall_covering</code> is the measurable Besicovitch covering theorem: from any
family of balls with arbitrarily small radii at every point, one can extract countably many
disjoint balls covering almost all the space. While the value of <code>N</code> is relevant for the precise
statement of the topological Besicovitch theorem, it becomes irrelevant for the measurable one.
Therefore, this statement is expressed using the <code>Prop</code>-valued
typeclass <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#HasBesicovitchCovering">HasBesicovitchCovering</a></code>.</li>
</ul><p>We also restate the following specialized versions of general theorems on differentiation of
measures:</p><ul>
<li><code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.ae_tendsto_rnDeriv">Besicovitch.ae_tendsto_rnDeriv</a></code> ensures that <code>ρ (closedBall x r) / μ (closedBall x r)</code> tends
almost surely to the Radon-Nikodym derivative of <code>ρ</code> with respect to <code>μ</code> at <code>x</code>.</li>
<li><code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.ae_tendsto_measure_inter_div">Besicovitch.ae_tendsto_measure_inter_div</a></code> states that almost every point in an arbitrary set <code>s</code>
is a Lebesgue density point, i.e., <code>μ (s ∩ closedBall x r) / μ (closedBall x r)</code> tends to <code>1</code> as
<code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a></code> tends to <code>0</code>. A stronger version for measurable sets is given in
<code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.ae_tendsto_measure_inter_div_of_measurableSet">Besicovitch.ae_tendsto_measure_inter_div_of_measurableSet</a></code>.</li>
</ul><h2 class="markdown-heading" id="Implementation">Implementation <a class="hover-link" href="#Implementation">#</a></h2><h4 class="markdown-heading" id="Sketch-of-proof-of-the-topological-Besicovitch-theorem">Sketch of proof of the topological Besicovitch theorem: <a class="hover-link" href="#Sketch-of-proof-of-the-topological-Besicovitch-theorem">#</a></h4><p>We choose balls in a greedy way. First choose a ball with maximal radius (or rather, since there
is no guarantee the maximal radius is realized, a ball with radius within a factor <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.τ">τ</a></code> of the
supremum). Then, remove all balls whose center is covered by the first ball, and choose among the
remaining ones a ball with radius close to maximum. Go on forever until there is no available
center (this is a transfinite induction in general).</p><p>Then define inductively a coloring of the balls. A ball will be of color <code>i</code> if it intersects
already chosen balls of color <code>0</code>, ..., <code>i - 1</code>, but none of color <code>i</code>. In this way, balls of the
same color form a disjoint family, and the space is covered by the families of the different colors.</p><p>The nontrivial part is to show that at most <code>N</code> colors are used. If one needs <code>N + 1</code> colors,
consider the first time this happens. Then the corresponding ball intersects <code>N</code> balls of the
different colors. Moreover, the inductive construction ensures that the radii of all the balls are
controlled: they form a satellite configuration with <code>N + 1</code> balls (essentially by definition of
satellite configurations). Since we assume that there are no such configurations, this is a
contradiction.</p><h4 class="markdown-heading" id="Sketch-of-proof-of-the-measurable-Besicovitch-theorem">Sketch of proof of the measurable Besicovitch theorem: <a class="hover-link" href="#Sketch-of-proof-of-the-measurable-Besicovitch-theorem">#</a></h4><p>From the topological Besicovitch theorem, one can find a disjoint countable family of balls
covering a proportion <code>&gt; 1 / (N + 1)</code> of the space. Taking a large enough finite subset of these
balls, one gets the same property for finitely many balls. Their union is closed. Therefore, any
point in the complement has around it an admissible ball not intersecting these finitely many balls.
Applying again the topological Besicovitch theorem, one extracts from these a disjoint countable
subfamily covering a proportion <code>&gt; 1 / (N + 1)</code> of the remaining points, and then even a disjoint
finite subfamily. Then one goes on again and again, covering at each step a positive proportion of
the remaining points, while remaining disjoint from the already chosen balls. The union of all these
balls is the desired almost everywhere covering.</p></div><div class="mod_doc"><h3 class="markdown-heading" id="Satellite-configurations">Satellite configurations <a class="hover-link" href="#Satellite-configurations">#</a></h3></div><div class="decl" id="Besicovitch.SatelliteConfig"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L106-L129">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig"><span class="name">Besicovitch</span>.<span class="name">SatelliteConfig</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">N</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">τ</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a> u_1</div></div><p>A satellite configuration is a configuration of <code>N+1</code> points that shows up in the inductive
construction for the Besicovitch covering theorem. It depends on some parameter <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.τ">τ</a> ≥ 1</code>.</p><p>This is a family of balls (indexed by <code>i : <a href="../../.././Init/Prelude.html#Fin">Fin</a> N.succ</code>, with center <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.c">c</a> i</code> and radius <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a> i</code>) such
that the last ball intersects all the other balls (condition <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.inter">inter</a></code>),
and given any two balls there is an order between them, ensuring that the first ball does not
contain the center of the other one, and the radius of the second ball can not be larger than
the radius of the first ball (up to a factor <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.τ">τ</a></code>). This order corresponds to the order of choice
in the inductive construction: otherwise, the second ball would have been chosen before.
This is the condition <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.h">h</a></code>.</p><p>Finally, the last ball is chosen after all the other ones, meaning that <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.h">h</a></code> can be strengthened
by keeping only one side of the alternative in <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.hlast">hlast</a></code>.</p><ul class="structure_fields" id="Besicovitch.SatelliteConfig.mk"><li id="Besicovitch.SatelliteConfig.c" class="structure_field"><div class="structure_field_info">c : <span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn"><span class="fn">N</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span> → <span class="fn">α</span></span></div><div class="structure_field_doc"><p>Centers of the balls</p></div></li><li id="Besicovitch.SatelliteConfig.r" class="structure_field"><div class="structure_field_info">r : <span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn"><span class="fn">N</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span> → <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a></span></div><div class="structure_field_doc"><p>Radii of the balls</p></div></li><li id="Besicovitch.SatelliteConfig.rpos" class="structure_field"><div class="structure_field_info">rpos<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn"><span class="fn">N</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span>)</span></span>
 : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a></span> <span class="fn">i</span></span></div></li><li id="Besicovitch.SatelliteConfig.h" class="structure_field"><div class="structure_field_info">h : <span class="fn"><a href="../../.././Mathlib/Logic/Pairwise.html#Pairwise">Pairwise</a> <span class="fn">fun (<span class="fn">i</span> <span class="fn">j</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn"><span class="fn">N</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span>) =&gt;
  <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Dist.dist">dist</a> <span class="fn">(<span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.c">c</a></span> <span class="fn">i</span>)</span> <span class="fn">(<span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.c">c</a></span> <span class="fn">j</span>)</span></span> <a href="../../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a></span> <span class="fn">j</span></span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">τ</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Or">∨</a>     <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a></span> <span class="fn">j</span></span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Dist.dist">dist</a> <span class="fn">(<span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.c">c</a></span> <span class="fn">j</span>)</span> <span class="fn">(<span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.c">c</a></span> <span class="fn">i</span>)</span></span> <a href="../../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">τ</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a></span> <span class="fn">j</span></span></span></span></div></li><li id="Besicovitch.SatelliteConfig.hlast" class="structure_field"><div class="structure_field_info">hlast<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">N</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>)</span></span>
 : <span class="fn"><span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><a href="../../.././Init/Data/Fin/Basic.html#Fin.last">Fin.last</a> <span class="fn">N</span></span> → <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Dist.dist">dist</a> <span class="fn">(<span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.c">c</a></span> <span class="fn">i</span>)</span> <span class="fn">(<span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.c">c</a></span> <span class="fn">(<a href="../../.././Init/Data/Fin/Basic.html#Fin.last">Fin.last</a> <span class="fn">N</span>)</span>)</span></span> <a href="../../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a></span> <span class="fn">(<a href="../../.././Init/Data/Fin/Basic.html#Fin.last">Fin.last</a> <span class="fn">N</span>)</span></span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">τ</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a></span> <span class="fn">i</span></span></span></div></li><li id="Besicovitch.SatelliteConfig.inter" class="structure_field"><div class="structure_field_info">inter<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn">N</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>)</span></span>
 : <span class="fn"><span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><a href="../../.././Init/Data/Fin/Basic.html#Fin.last">Fin.last</a> <span class="fn">N</span></span> → <span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Dist.dist">dist</a> <span class="fn">(<span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.c">c</a></span> <span class="fn">i</span>)</span> <span class="fn">(<span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.c">c</a></span> <span class="fn">(<a href="../../.././Init/Data/Fin/Basic.html#Fin.last">Fin.last</a> <span class="fn">N</span>)</span>)</span></span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a></span> <span class="fn">(<a href="../../.././Init/Data/Fin/Basic.html#Fin.last">Fin.last</a> <span class="fn">N</span>)</span></span></span></div></li></ul><details id="instances-for-list-Besicovitch.SatelliteConfig" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Meta.Positivity.evalBesicovitchSatelliteConfigR"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L135-L142">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Mathlib.Meta.Positivity.evalBesicovitchSatelliteConfigR"><span class="name">Mathlib</span>.<span class="name">Meta</span>.<span class="name">Positivity</span>.<span class="name">evalBesicovitchSatelliteConfigR</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Mathlib/Tactic/Positivity/Core.html#Mathlib.Meta.Positivity.PositivityExt">PositivityExt</a></div></div><p>Extension for the <code><a href="../../.././Mathlib/Tactic/Positivity/Core.html#positivity">positivity</a></code> tactic: <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">Besicovitch.SatelliteConfig.r</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Meta.Positivity.evalBesicovitchSatelliteConfigR" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="HasBesicovitchCovering"><div class="class"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L146-L151">source</a></div><div class="decl_header"><span class="decl_kind">class</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#HasBesicovitchCovering"><span class="name">HasBesicovitchCovering</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><p>A metric space has the Besicovitch covering property if there exist <code>N</code> and <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.τ">τ</a> &gt; 1</code> such that
there are no satellite configuration of parameter <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.τ">τ</a></code> with <code>N+1</code> points. This is the condition that
guarantees that the measurable Besicovitch covering theorem holds. It is satisfied by
finite-dimensional real vector spaces.</p><ul class="structure_fields" id="HasBesicovitchCovering.mk"><li id="HasBesicovitchCovering.no_satelliteConfig" class="structure_field"><div class="structure_field_info">no_satelliteConfig : <span class="fn">∃ (<span class="fn">N</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>) (<span class="fn">τ</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a>), <span class="fn">1</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">τ</span> <a href="../../.././Init/Prelude.html#And">∧</a> <span class="fn"><a href="../../.././Mathlib/Logic/IsEmpty.html#IsEmpty">IsEmpty</a> <span class="fn">(<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig">Besicovitch.SatelliteConfig</a> <span class="fn">α</span> <span class="fn">N</span> <span class="fn">τ</span>)</span></span></span></div></li></ul><details class="instances"><summary>Instances</summary><ul id="instances-list-HasBesicovitchCovering" class="instances-list"></ul></details></div></div><div class="decl" id="Besicovitch.SatelliteConfig.instInhabited"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L153-L163">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.instInhabited"><span class="name">Besicovitch</span>.<span class="name">SatelliteConfig</span>.<span class="name">instInhabited</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">τ</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">(<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig">SatelliteConfig</a> <span class="fn">α</span> <span class="fn">0</span> <span class="fn">τ</span>)</span></span></div></div><p>There is always a satellite configuration with a single point.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Besicovitch.SatelliteConfig.inter'"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L171-L176">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.inter'"><span class="name">Besicovitch</span>.<span class="name">SatelliteConfig</span>.<span class="name">inter'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">N</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">τ</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig">SatelliteConfig</a> <span class="fn">α</span> <span class="fn">N</span> <span class="fn">τ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn"><span class="fn">N</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Dist.dist">dist</a> <span class="fn">(<span class="fn"><span class="fn">a</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.c">c</a></span> <span class="fn">i</span>)</span> <span class="fn">(<span class="fn"><span class="fn">a</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.c">c</a></span> <span class="fn">(<a href="../../.././Init/Data/Fin/Basic.html#Fin.last">Fin.last</a> <span class="fn">N</span>)</span>)</span></span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a></span> <span class="fn">(<a href="../../.././Init/Data/Fin/Basic.html#Fin.last">Fin.last</a> <span class="fn">N</span>)</span></span></div></div></div></div><div class="decl" id="Besicovitch.SatelliteConfig.hlast'"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L178-L183">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.hlast'"><span class="name">Besicovitch</span>.<span class="name">SatelliteConfig</span>.<span class="name">hlast'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">N</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">τ</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig">SatelliteConfig</a> <span class="fn">α</span> <span class="fn">N</span> <span class="fn">τ</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn"><span class="fn">N</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">1</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">τ</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a></span> <span class="fn">(<a href="../../.././Init/Data/Fin/Basic.html#Fin.last">Fin.last</a> <span class="fn">N</span>)</span></span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">τ</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a></span> <span class="fn">i</span></span></div></div></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Extracting-disjoint-subfamilies-from-a-ball-covering">Extracting disjoint subfamilies from a ball covering <a class="hover-link" href="#Extracting-disjoint-subfamilies-from-a-ball-covering">#</a></h3></div><div class="decl" id="Besicovitch.BallPackage"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L190-L199">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage"><span class="name">Besicovitch</span>.<span class="name">BallPackage</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u_1)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_2)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a> (max u_1 u_2)</div></div><p>A ball package is a family of balls in a metric space with positive bounded radii.</p><ul class="structure_fields" id="Besicovitch.BallPackage.mk"><li id="Besicovitch.BallPackage.c" class="structure_field"><div class="structure_field_info">c : <span class="fn"><span class="fn">β</span> → <span class="fn">α</span></span></div><div class="structure_field_doc"><p>Centers of the balls</p></div></li><li id="Besicovitch.BallPackage.r" class="structure_field"><div class="structure_field_info">r : <span class="fn"><span class="fn">β</span> → <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a></span></div><div class="structure_field_doc"><p>Radii of the balls</p></div></li><li id="Besicovitch.BallPackage.rpos" class="structure_field"><div class="structure_field_info">rpos<span class="decl_args">
<span class="fn">(<span class="fn">b</span> : <span class="fn">β</span>)</span></span>
 : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.r">r</a></span> <span class="fn">b</span></span></div></li><li id="Besicovitch.BallPackage.r_bound" class="structure_field"><div class="structure_field_info">r_bound : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a></div><div class="structure_field_doc"><p>Bound on the radii of the balls</p></div></li><li id="Besicovitch.BallPackage.r_le" class="structure_field"><div class="structure_field_info">r_le<span class="decl_args">
<span class="fn">(<span class="fn">b</span> : <span class="fn">β</span>)</span></span>
 : <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.r">r</a></span> <span class="fn">b</span></span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.r_bound">r_bound</a></span></div></li></ul><details id="instances-for-list-Besicovitch.BallPackage" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Besicovitch.unitBallPackage"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L201-L207">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.unitBallPackage"><span class="name">Besicovitch</span>.<span class="name">unitBallPackage</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage">BallPackage</a> <span class="fn">α</span> <span class="fn">α</span></span></div></div><p>The ball package made of unit balls.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.unitBallPackage">Besicovitch.unitBallPackage</a> <span class="fn">α</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.mk">{</a> <span class="fn">c</span> := <a href="../../.././Init/Prelude.html#id">id</a>, <span class="fn">r</span> := <span class="fn">fun (<span class="fn">x</span> : <span class="fn">α</span>) =&gt; <span class="fn">1</span></span>, <span class="fn">rpos</span> := <span class="fn">⋯</span>, <span class="fn">r_bound</span> := <span class="fn">1</span>, <span class="fn">r_le</span> := <span class="fn">⋯</span> <a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.mk">}</a></li></ul></details><details id="instances-for-list-Besicovitch.unitBallPackage" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Besicovitch.BallPackage.instInhabited"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L209-L210">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.instInhabited"><span class="name">Besicovitch</span>.<span class="name">BallPackage</span>.<span class="name">instInhabited</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">(<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage">BallPackage</a> <span class="fn">α</span> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.instInhabited">Besicovitch.BallPackage.instInhabited</a> <span class="fn">α</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.unitBallPackage">Besicovitch.unitBallPackage</a> <span class="fn">α</span></span> <a href="../../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Besicovitch.TauPackage"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L212-L219">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u_1)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_2)</span></span>
<span class="decl_extends">extends</span> <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage">Besicovitch.BallPackage</a> <span class="fn">β</span> <span class="fn">α</span></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a> (max u_1 u_2)</div></div><p>A Besicovitch tau-package is a family of balls in a metric space with positive bounded radii,
together with enough data to proceed with the Besicovitch greedy algorithm. We register this in
a single structure to make sure that all our constructions in this algorithm only depend on
one variable.</p><ul class="structure_fields" id="Besicovitch.TauPackage.mk"><li class="structure_field inherited_field"><div class="structure_field_info"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.c">c</a> : <span class="fn"><span class="fn">β</span> → <span class="fn">α</span></span></div></li><li class="structure_field inherited_field"><div class="structure_field_info"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.r">r</a> : <span class="fn"><span class="fn">β</span> → <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a></span></div></li><li class="structure_field inherited_field"><div class="structure_field_info"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.rpos">rpos</a><span class="decl_args">
<span class="fn">(<span class="fn">b</span> : <span class="fn">β</span>)</span></span>
 : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.r">r</a></span> <span class="fn">b</span></span></div></li><li class="structure_field inherited_field"><div class="structure_field_info"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.r_bound">r_bound</a> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a></div></li><li class="structure_field inherited_field"><div class="structure_field_info"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.r_le">r_le</a><span class="decl_args">
<span class="fn">(<span class="fn">b</span> : <span class="fn">β</span>)</span></span>
 : <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.r">r</a></span> <span class="fn">b</span></span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.r_bound">r_bound</a></span></div></li><li id="Besicovitch.TauPackage.τ" class="structure_field"><div class="structure_field_info">τ : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a></div><div class="structure_field_doc"><p>Parameter used by the Besicovitch greedy algorithm</p></div></li><li id="Besicovitch.TauPackage.one_lt_tau" class="structure_field"><div class="structure_field_info">one_lt_tau : <span class="fn">1</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">self</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.τ">τ</a></span></div></li></ul><details id="instances-for-list-Besicovitch.TauPackage" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Besicovitch.TauPackage.instInhabited"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L221-L224">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.instInhabited"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span>.<span class="name">instInhabited</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">(<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage">TauPackage</a> <span class="fn">α</span> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Besicovitch.TauPackage.index"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L232-L244">source</a></div><div class="attributes">@[irreducible]</div>
<div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.index"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span>.<span class="name">index</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Nonempty">Nonempty</a> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage">TauPackage</a> <span class="fn">β</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/SetTheory/Ordinal/Basic.html#Ordinal">Ordinal.{u}</a> → <span class="fn">β</span></span></div></div><p>Choose inductively large balls with centers that are not contained in the union of already
chosen balls. This is a transfinite induction.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Besicovitch.TauPackage.index" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Besicovitch.TauPackage.iUnionUpTo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L246-L248">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.iUnionUpTo"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span>.<span class="name">iUnionUpTo</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Nonempty">Nonempty</a> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage">TauPackage</a> <span class="fn">β</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Mathlib/SetTheory/Ordinal/Basic.html#Ordinal">Ordinal.{u}</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">α</span></span></div></div><p>The set of points that are covered by the union of balls selected at steps <code>&lt; i</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.iUnionUpTo">iUnionUpTo</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⋃ (<span class="fn">j</span> : <a href="../../.././Init/Prelude.html#Subtype">{</a> <span class="fn">j</span> <a href="../../.././Init/Prelude.html#Subtype">:</a> <a href="../../.././Mathlib/SetTheory/Ordinal/Basic.html#Ordinal">Ordinal.{?u.10}</a> <a href="../../.././Init/Prelude.html#Subtype">//</a> <span class="fn">j</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">i</span> <a href="../../.././Init/Prelude.html#Subtype">}</a>), <span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.ball">Metric.ball</a> <span class="fn">(<span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.c">c</a></span> <span class="fn">(<span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.index">index</a></span> <span class="fn">↑<span class="fn">j</span></span>)</span>)</span> <span class="fn">(<span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.r">r</a></span> <span class="fn">(<span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.index">index</a></span> <span class="fn">↑<span class="fn">j</span></span>)</span>)</span></span></span></li></ul></details><details id="instances-for-list-Besicovitch.TauPackage.iUnionUpTo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Besicovitch.TauPackage.monotone_iUnionUpTo"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L250-L253">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.monotone_iUnionUpTo"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span>.<span class="name">monotone_iUnionUpTo</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Nonempty">Nonempty</a> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage">TauPackage</a> <span class="fn">β</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/Order/Monotone/Defs.html#Monotone">Monotone</a> <span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.iUnionUpTo">iUnionUpTo</a></span></span></div></div></div></div><div class="decl" id="Besicovitch.TauPackage.R"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L255-L257">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.R"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span>.<span class="name">R</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Nonempty">Nonempty</a> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage">TauPackage</a> <span class="fn">β</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Mathlib/SetTheory/Ordinal/Basic.html#Ordinal">Ordinal.{u}</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a></div></div><p>Supremum of the radii of balls whose centers are not yet covered at step <code>i</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.R">R</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⨆ (<span class="fn">b</span> : <a href="../../.././Init/Prelude.html#Subtype">{</a> <span class="fn">b</span> <a href="../../.././Init/Prelude.html#Subtype">:</a> <span class="fn">β</span> <a href="../../.././Init/Prelude.html#Subtype">//</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.c">c</a></span> <span class="fn">b</span></span> ∉ <span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.iUnionUpTo">iUnionUpTo</a></span> <span class="fn">i</span></span></span> <a href="../../.././Init/Prelude.html#Subtype">}</a>), <span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.r">r</a></span> <span class="fn">↑<span class="fn">b</span></span></span></span></li></ul></details><details id="instances-for-list-Besicovitch.TauPackage.R" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Besicovitch.TauPackage.color"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L259-L269">source</a></div><div class="attributes">@[irreducible]</div>
<div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.color"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span>.<span class="name">color</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Nonempty">Nonempty</a> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage">TauPackage</a> <span class="fn">β</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/SetTheory/Ordinal/Basic.html#Ordinal">Ordinal.{u}</a> → <a href="../../.././Init/Prelude.html#Nat">ℕ</a></span></div></div><p>Group the balls into disjoint families, by assigning to a ball the smallest color for which
it does not intersect any already chosen ball of this color.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Besicovitch.TauPackage.color" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Besicovitch.TauPackage.lastStep"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L271-L274">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.lastStep"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span>.<span class="name">lastStep</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Nonempty">Nonempty</a> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage">TauPackage</a> <span class="fn">β</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Mathlib/SetTheory/Ordinal/Basic.html#Ordinal">Ordinal.{u}</a></div></div><p><code>p.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.lastStep">lastStep</a></code> is the first ordinal where the construction stops making sense, i.e., <code>f</code> returns
garbage since there is no point left to be chosen. We will only use ordinals before this step.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.lastStep">lastStep</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Mathlib/Order/SetNotation.html#InfSet.sInf">sInf</a> <a href="../../.././Mathlib/Data/Set/Defs.html#setOf">{</a><span class="fn">i</span> <a href="../../.././Mathlib/Data/Set/Defs.html#setOf">:</a> <a href="../../.././Mathlib/SetTheory/Ordinal/Basic.html#Ordinal">Ordinal.{?u.27}</a> <a href="../../.././Mathlib/Data/Set/Defs.html#setOf">|</a> <a href="../../.././Init/Prelude.html#Not">¬</a><span class="fn">∃ (<span class="fn">b</span> : <span class="fn">β</span>), <span class="fn"><span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.c">c</a></span> <span class="fn">b</span></span> ∉ <span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.iUnionUpTo">iUnionUpTo</a></span> <span class="fn">i</span></span></span> <a href="../../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.R">R</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.τ">τ</a></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.r">r</a></span> <span class="fn">b</span></span></span><a href="../../.././Mathlib/Data/Set/Defs.html#setOf">}</a></span></li></ul></details><details id="instances-for-list-Besicovitch.TauPackage.lastStep" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Besicovitch.TauPackage.lastStep_nonempty"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L276-L298">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.lastStep_nonempty"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span>.<span class="name">lastStep_nonempty</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Nonempty">Nonempty</a> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage">TauPackage</a> <span class="fn">β</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#setOf">{</a><span class="fn">i</span> <a href="../../.././Mathlib/Data/Set/Defs.html#setOf">:</a> <a href="../../.././Mathlib/SetTheory/Ordinal/Basic.html#Ordinal">Ordinal.{u}</a> <a href="../../.././Mathlib/Data/Set/Defs.html#setOf">|</a> <a href="../../.././Init/Prelude.html#Not">¬</a><span class="fn">∃ (<span class="fn">b</span> : <span class="fn">β</span>), <span class="fn"><span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.c">c</a></span> <span class="fn">b</span></span> ∉ <span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.iUnionUpTo">iUnionUpTo</a></span> <span class="fn">i</span></span></span> <a href="../../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.R">R</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.τ">τ</a></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.r">r</a></span> <span class="fn">b</span></span></span><a href="../../.././Mathlib/Data/Set/Defs.html#setOf">}</a>.<a href="../../.././Mathlib/Data/Set/Defs.html#Set.Nonempty">Nonempty</a></span></div></div></div></div><div class="decl" id="Besicovitch.TauPackage.mem_iUnionUpTo_lastStep"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L300-L323">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.mem_iUnionUpTo_lastStep"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span>.<span class="name">mem_iUnionUpTo_lastStep</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Nonempty">Nonempty</a> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage">TauPackage</a> <span class="fn">β</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn">β</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.c">c</a></span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.iUnionUpTo">iUnionUpTo</a></span> <span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.lastStep">lastStep</a></span></span></div></div><p>Every point is covered by chosen balls, before <code>p.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.lastStep">lastStep</a></code>.</p></div></div><div class="decl" id="Besicovitch.TauPackage.color_lt"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L325-L442">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.color_lt"><span class="name">Besicovitch</span>.<span class="name">TauPackage</span>.<span class="name">color_lt</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Nonempty">Nonempty</a> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage">TauPackage</a> <span class="fn">β</span> <span class="fn">α</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">i</span> : <a href="../../.././Mathlib/SetTheory/Ordinal/Basic.html#Ordinal">Ordinal.{u}</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hi</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.lastStep">lastStep</a></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">N</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hN</span> : <span class="fn"><a href="../../.././Mathlib/Logic/IsEmpty.html#IsEmpty">IsEmpty</a> <span class="fn">(<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig">SatelliteConfig</a> <span class="fn">α</span> <span class="fn">N</span> <span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.τ">τ</a></span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.color">color</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">N</span></div></div><p>If there are no configurations of satellites with <code>N+1</code> points, one never uses more than <code>N</code>
distinct families in the Besicovitch inductive construction.</p></div></div><div class="decl" id="Besicovitch.exist_disjoint_covering_families"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L448-L510">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.exist_disjoint_covering_families"><span class="name">Besicovitch</span>.<span class="name">exist_disjoint_covering_families</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">N</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">τ</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hτ</span> : <span class="fn">1</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">τ</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hN</span> : <span class="fn"><a href="../../.././Mathlib/Logic/IsEmpty.html#IsEmpty">IsEmpty</a> <span class="fn">(<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig">SatelliteConfig</a> <span class="fn">α</span> <span class="fn">N</span> <span class="fn">τ</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">q</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage">BallPackage</a> <span class="fn">β</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">∃ (<span class="fn">s</span> : <span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">N</span></span> → <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">β</span></span></span>),
  <span class="fn">(∀ (<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">N</span></span>), <span class="fn"><span class="fn"><span class="fn">(<span class="fn">s</span> <span class="fn">i</span>)</span>.<a href="../../.././Mathlib/Data/Set/Pairwise/Basic.html#Set.PairwiseDisjoint">PairwiseDisjoint</a></span> <span class="fn">fun (<span class="fn">j</span> : <span class="fn">β</span>) =&gt; <span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.closedBall">Metric.closedBall</a> <span class="fn">(<span class="fn"><span class="fn">q</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.c">c</a></span> <span class="fn">j</span>)</span> <span class="fn">(<span class="fn"><span class="fn">q</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.r">r</a></span> <span class="fn">j</span>)</span></span></span></span>)</span> <a href="../../.././Init/Prelude.html#And">∧</a>     <span class="fn"><a href="../../.././Mathlib/Data/Set/Operations.html#Set.range">Set.range</a> <span class="fn"><span class="fn">q</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.c">c</a></span></span> <a href="../../.././Init/Core.html#HasSubset.Subset">⊆</a> <span class="fn">⋃ (<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">N</span></span>), <span class="fn">⋃ <span class="fn">j</span> ∈ <span class="fn"><span class="fn">s</span> <span class="fn">i</span></span>, <span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.ball">Metric.ball</a> <span class="fn">(<span class="fn"><span class="fn">q</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.c">c</a></span> <span class="fn">j</span>)</span> <span class="fn">(<span class="fn"><span class="fn">q</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.BallPackage.r">r</a></span> <span class="fn">j</span>)</span></span></span></span></span></div></div><p>The topological Besicovitch covering theorem: there exist finitely many families of disjoint
balls covering all the centers in a package. More specifically, one can use <code>N</code> families if there
are no satellite configurations with <code>N+1</code> points.</p></div></div><div class="mod_doc"><h3 class="markdown-heading" id="The-measurable-Besicovitch-covering-theorem">The measurable Besicovitch covering theorem <a class="hover-link" href="#The-measurable-Besicovitch-covering-theorem">#</a></h3></div><div class="decl" id="Besicovitch.exist_finset_disjoint_balls_large_measure"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L521-L649">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.exist_finset_disjoint_balls_large_measure"><span class="name">Besicovitch</span>.<span class="name">exist_finset_disjoint_balls_large_measure</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/Bases.html#SecondCountableTopology">SecondCountableTopology</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/MeasurableSpace/Defs.html#MeasurableSpace">MeasurableSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Constructions/BorelSpace/Basic.html#OpensMeasurableSpace">OpensMeasurableSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">μ</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.Measure">MeasureTheory.Measure</a> <span class="fn">α</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/Typeclasses/Finite.html#MeasureTheory.IsFiniteMeasure">MeasureTheory.IsFiniteMeasure</a> <span class="fn">μ</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">N</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">τ</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hτ</span> : <span class="fn">1</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">τ</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hN</span> : <span class="fn"><a href="../../.././Mathlib/Logic/IsEmpty.html#IsEmpty">IsEmpty</a> <span class="fn">(<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig">SatelliteConfig</a> <span class="fn">α</span> <span class="fn">N</span> <span class="fn">τ</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">r</span> : <span class="fn"><span class="fn">α</span> → <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rpos</span> : <span class="fn">∀ <span class="fn">x</span> ∈ <span class="fn">s</span>, <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">r</span> <span class="fn">x</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rle</span> : <span class="fn">∀ <span class="fn">x</span> ∈ <span class="fn">s</span>, <span class="fn"><span class="fn">r</span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">1</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">∃ (<span class="fn">t</span> : <span class="fn"><a href="../../.././Mathlib/Data/Finset/Defs.html#Finset">Finset</a> <span class="fn">α</span></span>),
  <span class="fn">↑<span class="fn">t</span></span> <a href="../../.././Init/Core.html#HasSubset.Subset">⊆</a> <span class="fn">s</span> <a href="../../.././Init/Prelude.html#And">∧</a>     <span class="fn"><span class="fn">μ</span> (<span class="fn">s</span> <a href="../../.././Init/Core.html#SDiff.sdiff">\</a> <span class="fn">⋃ <span class="fn">x</span> ∈ <span class="fn">t</span>, <span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.closedBall">Metric.closedBall</a> <span class="fn">x</span> <span class="fn">(<span class="fn">r</span> <span class="fn">x</span>)</span></span></span>)</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">↑<span class="fn">N</span></span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> (<span class="fn">↑<span class="fn">N</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">μ</span> <span class="fn">s</span></span> <a href="../../.././Init/Prelude.html#And">∧</a>       <span class="fn"><span class="fn"><span class="fn">(↑<span class="fn">t</span>)</span>.<a href="../../.././Mathlib/Data/Set/Pairwise/Basic.html#Set.PairwiseDisjoint">PairwiseDisjoint</a></span> <span class="fn">fun (<span class="fn">x</span> : <span class="fn">α</span>) =&gt; <span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.closedBall">Metric.closedBall</a> <span class="fn">x</span> <span class="fn">(<span class="fn">r</span> <span class="fn">x</span>)</span></span></span></span></span></div></div><p>Consider, for each <code>x</code> in a set <code>s</code>, a radius <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a> x ∈ (0, 1]</code>. Then one can find finitely
many disjoint balls of the form <code>closedBall x (r x)</code> covering a proportion <code>1/(N+1)</code> of <code>s</code>, if
there are no satellite configurations with <code>N+1</code> points.</p></div></div><div class="decl" id="Besicovitch.exists_disjoint_closedBall_covering_ae_of_finiteMeasure_aux"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L653-L794">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.exists_disjoint_closedBall_covering_ae_of_finiteMeasure_aux"><span class="name">Besicovitch</span>.<span class="name">exists_disjoint_closedBall_covering_ae_of_finiteMeasure_aux</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/Bases.html#SecondCountableTopology">SecondCountableTopology</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/MeasurableSpace/Defs.html#MeasurableSpace">MeasurableSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Constructions/BorelSpace/Basic.html#OpensMeasurableSpace">OpensMeasurableSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#HasBesicovitchCovering">HasBesicovitchCovering</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">μ</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.Measure">MeasureTheory.Measure</a> <span class="fn">α</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/Typeclasses/Finite.html#MeasureTheory.IsFiniteMeasure">MeasureTheory.IsFiniteMeasure</a> <span class="fn">μ</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hf</span> : <span class="fn">∀ <span class="fn">x</span> ∈ <span class="fn">s</span>, <span class="fn">∀ <span class="fn">δ</span> &gt; <span class="fn">0</span>, <span class="fn">(<span class="fn"><span class="fn">f</span> <span class="fn">x</span></span> <a href="../../.././Init/Core.html#Inter.inter">∩</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn">0</span> <span class="fn">δ</span></span>).<a href="../../.././Mathlib/Data/Set/Defs.html#Set.Nonempty">Nonempty</a></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">∃ (<span class="fn">t</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">α</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a>)</span>),
  <span class="fn"><span class="fn">t</span>.<a href="../../.././Mathlib/Data/Set/Countable.html#Set.Countable">Countable</a></span> <a href="../../.././Init/Prelude.html#And">∧</a>     <span class="fn">(∀ <span class="fn">p</span> ∈ <span class="fn">t</span>, <span class="fn"><span class="fn">p</span>.1</span> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn">s</span>)</span> <a href="../../.././Init/Prelude.html#And">∧</a>       <span class="fn">(∀ <span class="fn">p</span> ∈ <span class="fn">t</span>, <span class="fn"><span class="fn">p</span>.2</span> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">p</span>.1</span></span>)</span> <a href="../../.././Init/Prelude.html#And">∧</a>         <span class="fn"><span class="fn">μ</span> (<span class="fn">s</span> <a href="../../.././Init/Core.html#SDiff.sdiff">\</a> <span class="fn">⋃ <span class="fn">p</span> ∈ <span class="fn">t</span>, <span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.closedBall">Metric.closedBall</a> <span class="fn"><span class="fn">p</span>.1</span> <span class="fn"><span class="fn">p</span>.2</span></span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span> <a href="../../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn"><span class="fn">t</span>.<a href="../../.././Mathlib/Data/Set/Pairwise/Basic.html#Set.PairwiseDisjoint">PairwiseDisjoint</a></span> <span class="fn">fun (<span class="fn">p</span> : <span class="fn">α</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a>) =&gt; <span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.closedBall">Metric.closedBall</a> <span class="fn"><span class="fn">p</span>.1</span> <span class="fn"><span class="fn">p</span>.2</span></span></span></span></span></div></div><p>The <strong>measurable Besicovitch covering theorem</strong>. Assume that, for any <code>x</code> in a set <code>s</code>,
one is given a set of admissible closed balls centered at <code>x</code>, with arbitrarily small radii.
Then there exists a disjoint covering of almost all <code>s</code> by admissible closed balls centered at some
points of <code>s</code>.
This version requires that the underlying measure is finite, and that the space has the Besicovitch
covering property (which is satisfied for instance by normed real vector spaces). It expresses the
conclusion in a slightly awkward form (with a subset of <code>α × ℝ</code>) coming from the proof technique.
For a version assuming that the measure is sigma-finite,
see <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.exists_disjoint_closedBall_covering_ae_aux">exists_disjoint_closedBall_covering_ae_aux</a></code>.
For a version giving the conclusion in a nicer form, see <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.exists_disjoint_closedBall_covering_ae">exists_disjoint_closedBall_covering_ae</a></code>.</p></div></div><div class="decl" id="Besicovitch.exists_disjoint_closedBall_covering_ae_aux"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L796-L819">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.exists_disjoint_closedBall_covering_ae_aux"><span class="name">Besicovitch</span>.<span class="name">exists_disjoint_closedBall_covering_ae_aux</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/Bases.html#SecondCountableTopology">SecondCountableTopology</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/MeasurableSpace/Defs.html#MeasurableSpace">MeasurableSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Constructions/BorelSpace/Basic.html#OpensMeasurableSpace">OpensMeasurableSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#HasBesicovitchCovering">HasBesicovitchCovering</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">μ</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.Measure">MeasureTheory.Measure</a> <span class="fn">α</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/Typeclasses/SFinite.html#MeasureTheory.SFinite">MeasureTheory.SFinite</a> <span class="fn">μ</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hf</span> : <span class="fn">∀ <span class="fn">x</span> ∈ <span class="fn">s</span>, <span class="fn">∀ <span class="fn">δ</span> &gt; <span class="fn">0</span>, <span class="fn">(<span class="fn"><span class="fn">f</span> <span class="fn">x</span></span> <a href="../../.././Init/Core.html#Inter.inter">∩</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn">0</span> <span class="fn">δ</span></span>).<a href="../../.././Mathlib/Data/Set/Defs.html#Set.Nonempty">Nonempty</a></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">∃ (<span class="fn">t</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> (<span class="fn">α</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a>)</span>),
  <span class="fn"><span class="fn">t</span>.<a href="../../.././Mathlib/Data/Set/Countable.html#Set.Countable">Countable</a></span> <a href="../../.././Init/Prelude.html#And">∧</a>     <span class="fn">(∀ <span class="fn">p</span> ∈ <span class="fn">t</span>, <span class="fn"><span class="fn">p</span>.1</span> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn">s</span>)</span> <a href="../../.././Init/Prelude.html#And">∧</a>       <span class="fn">(∀ <span class="fn">p</span> ∈ <span class="fn">t</span>, <span class="fn"><span class="fn">p</span>.2</span> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">p</span>.1</span></span>)</span> <a href="../../.././Init/Prelude.html#And">∧</a>         <span class="fn"><span class="fn">μ</span> (<span class="fn">s</span> <a href="../../.././Init/Core.html#SDiff.sdiff">\</a> <span class="fn">⋃ <span class="fn">p</span> ∈ <span class="fn">t</span>, <span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.closedBall">Metric.closedBall</a> <span class="fn"><span class="fn">p</span>.1</span> <span class="fn"><span class="fn">p</span>.2</span></span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span> <a href="../../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn"><span class="fn">t</span>.<a href="../../.././Mathlib/Data/Set/Pairwise/Basic.html#Set.PairwiseDisjoint">PairwiseDisjoint</a></span> <span class="fn">fun (<span class="fn">p</span> : <span class="fn">α</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a>) =&gt; <span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.closedBall">Metric.closedBall</a> <span class="fn"><span class="fn">p</span>.1</span> <span class="fn"><span class="fn">p</span>.2</span></span></span></span></span></div></div><p>The measurable <strong>Besicovitch covering theorem</strong>.</p><p>Assume that, for any <code>x</code> in a set <code>s</code>, one is given a set of admissible closed balls centered at
<code>x</code>, with arbitrarily small radii. Then there exists a disjoint covering of almost all <code>s</code> by
admissible closed balls centered at some points of <code>s</code>.</p><p>This version requires the underlying measure to be sigma-finite, and the space to have the
Besicovitch covering property (which is satisfied for instance by normed real vector spaces).
It expresses the conclusion in a slightly awkward form (with a subset of <code>α × ℝ</code>) coming from the
proof technique.</p><p>For a version giving the conclusion in a nicer form, see <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.exists_disjoint_closedBall_covering_ae">exists_disjoint_closedBall_covering_ae</a></code>.</p></div></div><div class="decl" id="Besicovitch.exists_disjoint_closedBall_covering_ae"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L821-L850">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.exists_disjoint_closedBall_covering_ae"><span class="name">Besicovitch</span>.<span class="name">exists_disjoint_closedBall_covering_ae</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/Bases.html#SecondCountableTopology">SecondCountableTopology</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/MeasurableSpace/Defs.html#MeasurableSpace">MeasurableSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Constructions/BorelSpace/Basic.html#OpensMeasurableSpace">OpensMeasurableSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#HasBesicovitchCovering">HasBesicovitchCovering</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">μ</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.Measure">MeasureTheory.Measure</a> <span class="fn">α</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/Typeclasses/SFinite.html#MeasureTheory.SFinite">MeasureTheory.SFinite</a> <span class="fn">μ</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hf</span> : <span class="fn">∀ <span class="fn">x</span> ∈ <span class="fn">s</span>, <span class="fn">∀ <span class="fn">δ</span> &gt; <span class="fn">0</span>, <span class="fn">(<span class="fn"><span class="fn">f</span> <span class="fn">x</span></span> <a href="../../.././Init/Core.html#Inter.inter">∩</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn">0</span> <span class="fn">δ</span></span>).<a href="../../.././Mathlib/Data/Set/Defs.html#Set.Nonempty">Nonempty</a></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">R</span> : <span class="fn"><span class="fn">α</span> → <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hR</span> : <span class="fn">∀ <span class="fn">x</span> ∈ <span class="fn">s</span>, <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">R</span> <span class="fn">x</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">∃ (<span class="fn">t</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">α</span></span>) (<span class="fn">r</span> : <span class="fn"><span class="fn">α</span> → <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a></span>),
  <span class="fn"><span class="fn">t</span>.<a href="../../.././Mathlib/Data/Set/Countable.html#Set.Countable">Countable</a></span> <a href="../../.././Init/Prelude.html#And">∧</a>     <span class="fn">t</span> <a href="../../.././Init/Core.html#HasSubset.Subset">⊆</a> <span class="fn">s</span> <a href="../../.././Init/Prelude.html#And">∧</a>       <span class="fn">(∀ <span class="fn">x</span> ∈ <span class="fn">t</span>, <span class="fn"><span class="fn">r</span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn"><span class="fn">f</span> <span class="fn">x</span></span> <a href="../../.././Init/Core.html#Inter.inter">∩</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn">0</span> <span class="fn">(<span class="fn">R</span> <span class="fn">x</span>)</span></span>)</span> <a href="../../.././Init/Prelude.html#And">∧</a>         <span class="fn"><span class="fn">μ</span> (<span class="fn">s</span> <a href="../../.././Init/Core.html#SDiff.sdiff">\</a> <span class="fn">⋃ <span class="fn">x</span> ∈ <span class="fn">t</span>, <span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.closedBall">Metric.closedBall</a> <span class="fn">x</span> <span class="fn">(<span class="fn">r</span> <span class="fn">x</span>)</span></span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span> <a href="../../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn"><span class="fn">t</span>.<a href="../../.././Mathlib/Data/Set/Pairwise/Basic.html#Set.PairwiseDisjoint">PairwiseDisjoint</a></span> <span class="fn">fun (<span class="fn">x</span> : <span class="fn">α</span>) =&gt; <span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.closedBall">Metric.closedBall</a> <span class="fn">x</span> <span class="fn">(<span class="fn">r</span> <span class="fn">x</span>)</span></span></span></span></span></div></div><p>The measurable <strong>Besicovitch covering theorem</strong>.</p><p>Assume that, for any <code>x</code> in a set <code>s</code>, one is given a set of admissible closed balls centered at
<code>x</code>, with arbitrarily small radii. Then there exists a disjoint covering of almost all <code>s</code> by
admissible closed balls centered at some points of <code>s</code>. We can even require that the radius at <code>x</code>
is bounded by a given function <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.R">R</a> x</code>. (Take <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.TauPackage.R">R</a> = 1</code> if you don't need this additional feature).</p><p>This version requires the underlying measure to be sigma-finite, and the space to have the
Besicovitch covering property (which is satisfied for instance by normed real vector spaces).</p></div></div><div class="decl" id="Besicovitch.exists_closedBall_covering_tsum_measure_le"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L852-L1018">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.exists_closedBall_covering_tsum_measure_le"><span class="name">Besicovitch</span>.<span class="name">exists_closedBall_covering_tsum_measure_le</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/Bases.html#SecondCountableTopology">SecondCountableTopology</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/MeasurableSpace/Defs.html#MeasurableSpace">MeasurableSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Constructions/BorelSpace/Basic.html#OpensMeasurableSpace">OpensMeasurableSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#HasBesicovitchCovering">HasBesicovitchCovering</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">μ</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.Measure">MeasureTheory.Measure</a> <span class="fn">α</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/Typeclasses/SFinite.html#MeasureTheory.SFinite">MeasureTheory.SFinite</a> <span class="fn">μ</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">μ</span>.<a href="../../.././Mathlib/MeasureTheory/Measure/Regular.html#MeasureTheory.Measure.OuterRegular">OuterRegular</a></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε</span> : <a href="../../.././Mathlib/Data/ENNReal/Basic.html#ENNReal">ENNReal</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hε</span> : <span class="fn">ε</span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn">0</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hf</span> : <span class="fn">∀ <span class="fn">x</span> ∈ <span class="fn">s</span>, <span class="fn">∀ <span class="fn">δ</span> &gt; <span class="fn">0</span>, <span class="fn">(<span class="fn"><span class="fn">f</span> <span class="fn">x</span></span> <a href="../../.././Init/Core.html#Inter.inter">∩</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn">0</span> <span class="fn">δ</span></span>).<a href="../../.././Mathlib/Data/Set/Defs.html#Set.Nonempty">Nonempty</a></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">∃ (<span class="fn">t</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">α</span></span>) (<span class="fn">r</span> : <span class="fn"><span class="fn">α</span> → <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a></span>),
  <span class="fn"><span class="fn">t</span>.<a href="../../.././Mathlib/Data/Set/Countable.html#Set.Countable">Countable</a></span> <a href="../../.././Init/Prelude.html#And">∧</a>     <span class="fn">t</span> <a href="../../.././Init/Core.html#HasSubset.Subset">⊆</a> <span class="fn">s</span> <a href="../../.././Init/Prelude.html#And">∧</a>       <span class="fn">(∀ <span class="fn">x</span> ∈ <span class="fn">t</span>, <span class="fn"><span class="fn">r</span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn"><span class="fn">f</span> <span class="fn">x</span></span>)</span> <a href="../../.././Init/Prelude.html#And">∧</a>         <span class="fn">s</span> <a href="../../.././Init/Core.html#HasSubset.Subset">⊆</a> <span class="fn">⋃ <span class="fn">x</span> ∈ <span class="fn">t</span>, <span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.closedBall">Metric.closedBall</a> <span class="fn">x</span> <span class="fn">(<span class="fn">r</span> <span class="fn">x</span>)</span></span></span> <a href="../../.././Init/Prelude.html#And">∧</a> <span class="fn"><a href="../../.././Mathlib/Topology/Algebra/InfiniteSum/Defs.html#tsum">∑'</a> (<span class="fn">x</span> : <span class="fn">↑<span class="fn">t</span></span>)<a href="../../.././Mathlib/Topology/Algebra/InfiniteSum/Defs.html#tsum">,</a> <span class="fn"><span class="fn">μ</span> <span class="fn">(<a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.closedBall">Metric.closedBall</a> <span class="fn">(↑<span class="fn">x</span>)</span> <span class="fn">(<span class="fn">r</span> <span class="fn">↑<span class="fn">x</span></span>)</span>)</span></span></span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><span class="fn">μ</span> <span class="fn">s</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">ε</span></span></div></div><p>In a space with the Besicovitch property, any set <code>s</code> can be covered with balls whose measures
add up to at most <code>μ s + ε</code>, for any positive <code>ε</code>. This works even if one restricts the set of
allowed radii around a point <code>x</code> to a set <code>f x</code> which accumulates at <code>0</code>.</p></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Consequences-on-differentiation-of-measures">Consequences on differentiation of measures <a class="hover-link" href="#Consequences-on-differentiation-of-measures">#</a></h3></div><div class="decl" id="Besicovitch.vitaliFamily"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L1022-L1058">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.vitaliFamily"><span class="name">Besicovitch</span>.<span class="name">vitaliFamily</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/Bases.html#SecondCountableTopology">SecondCountableTopology</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/MeasurableSpace/Defs.html#MeasurableSpace">MeasurableSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Constructions/BorelSpace/Basic.html#OpensMeasurableSpace">OpensMeasurableSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#HasBesicovitchCovering">HasBesicovitchCovering</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">μ</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.Measure">MeasureTheory.Measure</a> <span class="fn">α</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/Typeclasses/SFinite.html#MeasureTheory.SFinite">MeasureTheory.SFinite</a> <span class="fn">μ</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/VitaliFamily.html#VitaliFamily">VitaliFamily</a> <span class="fn">μ</span></span></div></div><p>In a space with the Besicovitch covering property, the set of closed balls with positive radius
forms a Vitali family. This is essentially a restatement of the measurable Besicovitch theorem.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.vitaliFamily">Besicovitch.vitaliFamily</a> <span class="fn">μ</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <a href="../../.././Mathlib/MeasureTheory/Covering/VitaliFamily.html#VitaliFamily.mk">{</a> <span class="fn">setsAt</span> := <span class="fn">fun (<span class="fn">x</span> : <span class="fn">α</span>) =&gt; <span class="fn">(fun (<span class="fn">r</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a>) =&gt; <span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.closedBall">Metric.closedBall</a> <span class="fn">x</span> <span class="fn">r</span></span>)</span> <a href="../../.././Mathlib/Data/Set/Defs.html#Set.image">''</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioi">Set.Ioi</a> <span class="fn">0</span></span></span>, <span class="fn">measurableSet</span> := <span class="fn">⋯</span>,
    <span class="fn">nonempty_interior</span> := <span class="fn">⋯</span>, <span class="fn">nontrivial</span> := <span class="fn">⋯</span>, <span class="fn">covering</span> := <span class="fn">⋯</span> <a href="../../.././Mathlib/MeasureTheory/Covering/VitaliFamily.html#VitaliFamily.mk">}</a></li></ul></details><details id="instances-for-list-Besicovitch.vitaliFamily" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Besicovitch.tendsto_filterAt"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L1060-L1075">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.tendsto_filterAt"><span class="name">Besicovitch</span>.<span class="name">tendsto_filterAt</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/Bases.html#SecondCountableTopology">SecondCountableTopology</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/MeasurableSpace/Defs.html#MeasurableSpace">MeasurableSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Constructions/BorelSpace/Basic.html#OpensMeasurableSpace">OpensMeasurableSpace</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#HasBesicovitchCovering">HasBesicovitchCovering</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">μ</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.Measure">MeasureTheory.Measure</a> <span class="fn">α</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/Typeclasses/SFinite.html#MeasureTheory.SFinite">MeasureTheory.SFinite</a> <span class="fn">μ</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn">α</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/Order/Filter/Defs.html#Filter.Tendsto">Filter.Tendsto</a> <span class="fn">(fun (<span class="fn">r</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a>) =&gt; <span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.closedBall">Metric.closedBall</a> <span class="fn">x</span> <span class="fn">r</span></span>)</span> <span class="fn">(<a href="../../.././Mathlib/Topology/Defs/Filter.html#nhdsWithin">nhdsWithin</a> <span class="fn">0</span> <span class="fn">(<a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioi">Set.Ioi</a> <span class="fn">0</span>)</span>)</span>
  <span class="fn">(<span class="fn"><span class="fn">(<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.vitaliFamily">Besicovitch.vitaliFamily</a> <span class="fn">μ</span>)</span>.<a href="../../.././Mathlib/MeasureTheory/Covering/VitaliFamily.html#VitaliFamily.filterAt">filterAt</a></span> <span class="fn">x</span>)</span></span></div></div><p>The main feature of the Besicovitch Vitali family is that its filter at a point <code>x</code> corresponds
to convergence along closed balls. We record one of the two implications here, which will enable us
to deduce specific statements on differentiation of measures in this context from the general
versions.</p></div></div><div class="decl" id="Besicovitch.ae_tendsto_rnDeriv"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L1080-L1086">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.ae_tendsto_rnDeriv"><span class="name">Besicovitch</span>.<span class="name">ae_tendsto_rnDeriv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/MeasurableSpace/Defs.html#MeasurableSpace">MeasurableSpace</a> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Constructions/BorelSpace/Basic.html#BorelSpace">BorelSpace</a> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/Bases.html#SecondCountableTopology">SecondCountableTopology</a> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#HasBesicovitchCovering">HasBesicovitchCovering</a> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ρ </span><span class="fn">μ</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.Measure">MeasureTheory.Measure</a> <span class="fn">β</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/Typeclasses/Finite.html#MeasureTheory.IsLocallyFiniteMeasure">MeasureTheory.IsLocallyFiniteMeasure</a> <span class="fn">μ</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/Typeclasses/Finite.html#MeasureTheory.IsLocallyFiniteMeasure">MeasureTheory.IsLocallyFiniteMeasure</a> <span class="fn">ρ</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/Order/Filter/Defs.html#Filter.Eventually">∀ᵐ</a> (<span class="fn">x</span> : <span class="fn">β</span>) <a href="../../.././Mathlib/Order/Filter/Defs.html#Filter.Eventually">∂</a><span class="fn">μ</span><a href="../../.././Mathlib/Order/Filter/Defs.html#Filter.Eventually">,</a>   <span class="fn"><a href="../../.././Mathlib/Order/Filter/Defs.html#Filter.Tendsto">Filter.Tendsto</a> <span class="fn">(fun (<span class="fn">r</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a>) =&gt; <span class="fn"><span class="fn">ρ</span> <span class="fn">(<a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.closedBall">Metric.closedBall</a> <span class="fn">x</span> <span class="fn">r</span>)</span></span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">μ</span> <span class="fn">(<a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.closedBall">Metric.closedBall</a> <span class="fn">x</span> <span class="fn">r</span>)</span></span>)</span> <span class="fn">(<a href="../../.././Mathlib/Topology/Defs/Filter.html#nhdsWithin">nhdsWithin</a> <span class="fn">0</span> <span class="fn">(<a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioi">Set.Ioi</a> <span class="fn">0</span>)</span>)</span>
    <span class="fn">(<a href="../../.././Mathlib/Topology/Defs/Filter.html#nhds">nhds</a> <span class="fn">(<span class="fn"><span class="fn">ρ</span>.<a href="../../.././Mathlib/MeasureTheory/Measure/Decomposition/Lebesgue.html#MeasureTheory.Measure.rnDeriv">rnDeriv</a></span> <span class="fn">μ</span> <span class="fn">x</span>)</span>)</span></span></span></div></div><p>In a space with the Besicovitch covering property, the ratio of the measure of balls converges
almost surely to the Radon-Nikodym derivative.</p></div></div><div class="decl" id="Besicovitch.ae_tendsto_measure_inter_div_of_measurableSet"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L1088-L1101">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.ae_tendsto_measure_inter_div_of_measurableSet"><span class="name">Besicovitch</span>.<span class="name">ae_tendsto_measure_inter_div_of_measurableSet</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/MeasurableSpace/Defs.html#MeasurableSpace">MeasurableSpace</a> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Constructions/BorelSpace/Basic.html#BorelSpace">BorelSpace</a> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/Bases.html#SecondCountableTopology">SecondCountableTopology</a> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#HasBesicovitchCovering">HasBesicovitchCovering</a> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">μ</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.Measure">MeasureTheory.Measure</a> <span class="fn">β</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/Typeclasses/Finite.html#MeasureTheory.IsLocallyFiniteMeasure">MeasureTheory.IsLocallyFiniteMeasure</a> <span class="fn">μ</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">s</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">β</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hs</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/MeasurableSpace/Defs.html#MeasurableSet">MeasurableSet</a> <span class="fn">s</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/Order/Filter/Defs.html#Filter.Eventually">∀ᵐ</a> (<span class="fn">x</span> : <span class="fn">β</span>) <a href="../../.././Mathlib/Order/Filter/Defs.html#Filter.Eventually">∂</a><span class="fn">μ</span><a href="../../.././Mathlib/Order/Filter/Defs.html#Filter.Eventually">,</a>   <span class="fn"><a href="../../.././Mathlib/Order/Filter/Defs.html#Filter.Tendsto">Filter.Tendsto</a> <span class="fn">(fun (<span class="fn">r</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a>) =&gt; <span class="fn"><span class="fn">μ</span> (<span class="fn">s</span> <a href="../../.././Init/Core.html#Inter.inter">∩</a> <span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.closedBall">Metric.closedBall</a> <span class="fn">x</span> <span class="fn">r</span></span>)</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">μ</span> <span class="fn">(<a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.closedBall">Metric.closedBall</a> <span class="fn">x</span> <span class="fn">r</span>)</span></span>)</span> <span class="fn">(<a href="../../.././Mathlib/Topology/Defs/Filter.html#nhdsWithin">nhdsWithin</a> <span class="fn">0</span> <span class="fn">(<a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioi">Set.Ioi</a> <span class="fn">0</span>)</span>)</span>
    <span class="fn">(<a href="../../.././Mathlib/Topology/Defs/Filter.html#nhds">nhds</a> <span class="fn">(<span class="fn"><span class="fn">s</span>.<a href="../../.././Mathlib/Algebra/Notation/Indicator.html#Set.indicator">indicator</a></span> <span class="fn">1</span> <span class="fn">x</span>)</span>)</span></span></span></div></div><p>Given a measurable set <code>s</code>, then <code>μ (s ∩ closedBall x r) / μ (closedBall x r)</code> converges when
<code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a></code> tends to <code>0</code>, for almost every <code>x</code>. The limit is <code>1</code> for <code>x ∈ s</code> and <code>0</code> for <code>x ∉ s</code>.
This shows that almost every point of <code>s</code> is a Lebesgue density point for <code>s</code>.
A version for non-measurable sets holds, but it only gives the first conclusion,
see <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.ae_tendsto_measure_inter_div">ae_tendsto_measure_inter_div</a></code>.</p></div></div><div class="decl" id="Besicovitch.ae_tendsto_measure_inter_div"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/90c0e186fd333cbdddbe0e5148aa3cd2d24dcf9a/Mathlib/MeasureTheory/Covering/Besicovitch.lean#L1103-L1113">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.ae_tendsto_measure_inter_div"><span class="name">Besicovitch</span>.<span class="name">ae_tendsto_measure_inter_div</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Defs.html#MetricSpace">MetricSpace</a> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/MeasurableSpace/Defs.html#MeasurableSpace">MeasurableSpace</a> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Constructions/BorelSpace/Basic.html#BorelSpace">BorelSpace</a> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/Bases.html#SecondCountableTopology">SecondCountableTopology</a> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#HasBesicovitchCovering">HasBesicovitchCovering</a> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">μ</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.Measure">MeasureTheory.Measure</a> <span class="fn">β</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/Typeclasses/Finite.html#MeasureTheory.IsLocallyFiniteMeasure">MeasureTheory.IsLocallyFiniteMeasure</a> <span class="fn">μ</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/Order/Filter/Defs.html#Filter.Eventually">∀ᵐ</a> (<span class="fn">x</span> : <span class="fn">β</span>) <a href="../../.././Mathlib/Order/Filter/Defs.html#Filter.Eventually">∂</a><span class="fn"><span class="fn"><span class="fn">μ</span>.<a href="../../.././Mathlib/MeasureTheory/Measure/Restrict.html#MeasureTheory.Measure.restrict">restrict</a></span> <span class="fn">s</span></span><a href="../../.././Mathlib/Order/Filter/Defs.html#Filter.Eventually">,</a>   <span class="fn"><a href="../../.././Mathlib/Order/Filter/Defs.html#Filter.Tendsto">Filter.Tendsto</a> <span class="fn">(fun (<span class="fn">r</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">ℝ</a>) =&gt; <span class="fn"><span class="fn">μ</span> (<span class="fn">s</span> <a href="../../.././Init/Core.html#Inter.inter">∩</a> <span class="fn"><a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.closedBall">Metric.closedBall</a> <span class="fn">x</span> <span class="fn">r</span></span>)</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">μ</span> <span class="fn">(<a href="../../.././Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.closedBall">Metric.closedBall</a> <span class="fn">x</span> <span class="fn">r</span>)</span></span>)</span> <span class="fn">(<a href="../../.././Mathlib/Topology/Defs/Filter.html#nhdsWithin">nhdsWithin</a> <span class="fn">0</span> <span class="fn">(<a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioi">Set.Ioi</a> <span class="fn">0</span>)</span>)</span>
    <span class="fn">(<a href="../../.././Mathlib/Topology/Defs/Filter.html#nhds">nhds</a> <span class="fn">1</span>)</span></span></span></div></div><p>Given an arbitrary set <code>s</code>, then <code>μ (s ∩ closedBall x r) / μ (closedBall x r)</code> converges
to <code>1</code> when <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.SatelliteConfig.r">r</a></code> tends to <code>0</code>, for almost every <code>x</code> in <code>s</code>.
This shows that almost every point of <code>s</code> is a Lebesgue density point for <code>s</code>.
A stronger version holds for measurable sets, see <code><a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.ae_tendsto_measure_inter_div_of_measurableSet">ae_tendsto_measure_inter_div_of_measurableSet</a></code>.</p><p>See also <code>IsUnifLocDoublingMeasure.<a href="../../.././Mathlib/MeasureTheory/Covering/Besicovitch.html#Besicovitch.ae_tendsto_measure_inter_div">ae_tendsto_measure_inter_div</a></code>.</p></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>